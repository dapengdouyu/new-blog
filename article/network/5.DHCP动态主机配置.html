<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DHCP动态主机配置 | 我的博客</title>
    <meta name="description" content="深入理解DHCP协议，掌握IP地址自动分配机制">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.BFQAq9I3.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.BFQ6gudH.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.CCr6Ddds.js">
    <link rel="modulepreload" href="/assets/chunks/framework.DI6M9D4h.js">
    <link rel="modulepreload" href="/assets/article_network_5.DHCP动态主机配置.md.B6D04Nwk.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-2cc7c178><!--[--><!--]--><!--[--><span tabindex="-1" data-v-2d5ce6a5></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-2d5ce6a5>Skip to content</a><!--]--><!----><header class="VPNav" data-v-2cc7c178 data-v-9f098ce6><div class="VPNavBar" data-v-9f098ce6 data-v-c6c7ed03><div class="wrapper" data-v-c6c7ed03><div class="container" data-v-c6c7ed03><div class="title" data-v-c6c7ed03><div class="VPNavBarTitle has-sidebar" data-v-c6c7ed03 data-v-7b44b691><a class="title" href="/" data-v-7b44b691><!--[--><!--]--><!----><span data-v-7b44b691>我的博客</span><!--[--><!--]--></a></div></div><div class="content" data-v-c6c7ed03><div class="content-body" data-v-c6c7ed03><!--[--><!--]--><div class="VPNavBarSearch search" data-v-c6c7ed03><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-c6c7ed03 data-v-b14d23ba><span id="main-nav-aria-label" class="visually-hidden" data-v-b14d23ba> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/article/" tabindex="0" data-v-b14d23ba data-v-5c83f659><!--[--><span data-v-5c83f659>首页</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-b14d23ba data-v-67fb2a59><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-67fb2a59><span class="text" data-v-67fb2a59><!----><span data-v-67fb2a59>Go语言</span><span class="vpi-chevron-down text-icon" data-v-67fb2a59></span></span></button><div class="menu" data-v-67fb2a59><div class="VPMenu" data-v-67fb2a59 data-v-4bd283c0><div class="items" data-v-4bd283c0><!--[--><!--[--><div class="VPMenuLink" data-v-4bd283c0 data-v-49c44694><a class="VPLink link" href="/article/golang/core/" data-v-49c44694><!--[--><span data-v-49c44694>核心教程</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-4bd283c0 data-v-49c44694><a class="VPLink link" href="/article/golang/gin/" data-v-49c44694><!--[--><span data-v-49c44694>Gin框架</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-4bd283c0 data-v-49c44694><a class="VPLink link" href="/article/golang/gorm/" data-v-49c44694><!--[--><span data-v-49c44694>GORM</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-4bd283c0 data-v-49c44694><a class="VPLink link" href="/article/golang/kratos/" data-v-49c44694><!--[--><span data-v-49c44694>Kratos</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-4bd283c0 data-v-49c44694><a class="VPLink link" href="/article/golang/wasm/" data-v-49c44694><!--[--><span data-v-49c44694>WebAssembly</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/article/kafka/" tabindex="0" data-v-b14d23ba data-v-5c83f659><!--[--><span data-v-5c83f659>Kafka</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/article/network/" tabindex="0" data-v-b14d23ba data-v-5c83f659><!--[--><span data-v-5c83f659>网络</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/article/nginx/" tabindex="0" data-v-b14d23ba data-v-5c83f659><!--[--><span data-v-5c83f659>Nginx</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/article/python/" tabindex="0" data-v-b14d23ba data-v-5c83f659><!--[--><span data-v-5c83f659>Python</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/article/question/" tabindex="0" data-v-b14d23ba data-v-5c83f659><!--[--><span data-v-5c83f659>日常问题</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-c6c7ed03 data-v-a502a99d><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-a502a99d data-v-4ca8fb14 data-v-80776db8><span class="check" data-v-80776db8><span class="icon" data-v-80776db8><!--[--><span class="vpi-sun sun" data-v-4ca8fb14></span><span class="vpi-moon moon" data-v-4ca8fb14></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-c6c7ed03 data-v-84b97559 data-v-67fb2a59><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-67fb2a59><span class="vpi-more-horizontal icon" data-v-67fb2a59></span></button><div class="menu" data-v-67fb2a59><div class="VPMenu" data-v-67fb2a59 data-v-4bd283c0><!----><!--[--><!--[--><!----><div class="group" data-v-84b97559><div class="item appearance" data-v-84b97559><p class="label" data-v-84b97559>Appearance</p><div class="appearance-action" data-v-84b97559><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-84b97559 data-v-4ca8fb14 data-v-80776db8><span class="check" data-v-80776db8><span class="icon" data-v-80776db8><!--[--><span class="vpi-sun sun" data-v-4ca8fb14></span><span class="vpi-moon moon" data-v-4ca8fb14></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-c6c7ed03 data-v-ad82da4d><span class="container" data-v-ad82da4d><span class="top" data-v-ad82da4d></span><span class="middle" data-v-ad82da4d></span><span class="bottom" data-v-ad82da4d></span></span></button></div></div></div></div><div class="divider" data-v-c6c7ed03><div class="divider-line" data-v-c6c7ed03></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-2cc7c178 data-v-7ba30c2e><div class="container" data-v-7ba30c2e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-7ba30c2e><span class="vpi-align-left menu-icon" data-v-7ba30c2e></span><span class="menu-text" data-v-7ba30c2e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-7ba30c2e data-v-798b75df><button data-v-798b75df>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-2cc7c178 data-v-2bec2de2><div class="curtain" data-v-2bec2de2></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-2bec2de2><span class="visually-hidden" id="sidebar-aria-label" data-v-2bec2de2> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-a6dfd233><section class="VPSidebarItem level-0 is-link has-active" data-v-a6dfd233 data-v-d91b19f1><div class="item" tabindex="0" data-v-d91b19f1><div class="indicator" data-v-d91b19f1></div><a class="VPLink link link" href="/article/network/" data-v-d91b19f1><!--[--><h2 class="text" data-v-d91b19f1>网络问题</h2><!--]--></a><!----></div><div class="items" data-v-d91b19f1><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d91b19f1 data-v-d91b19f1><div class="item" data-v-d91b19f1><div class="indicator" data-v-d91b19f1></div><a class="VPLink link link" href="/article/network/1.IP%E5%9C%B0%E5%9D%80%E5%9F%BA%E7%A1%80.html" data-v-d91b19f1><!--[--><p class="text" data-v-d91b19f1>1.IP地址基础</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d91b19f1 data-v-d91b19f1><div class="item" data-v-d91b19f1><div class="indicator" data-v-d91b19f1></div><a class="VPLink link link" href="/article/network/2.%E5%B1%80%E5%9F%9F%E7%BD%91%E5%92%8C%E5%85%AC%E7%BD%91IP.html" data-v-d91b19f1><!--[--><p class="text" data-v-d91b19f1>2.局域网和公网IP</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d91b19f1 data-v-d91b19f1><div class="item" data-v-d91b19f1><div class="indicator" data-v-d91b19f1></div><a class="VPLink link link" href="/article/network/3.%E7%89%B9%E6%AE%8AIP%E5%9C%B0%E5%9D%80.html" data-v-d91b19f1><!--[--><p class="text" data-v-d91b19f1>3.特殊IP地址</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d91b19f1 data-v-d91b19f1><div class="item" data-v-d91b19f1><div class="indicator" data-v-d91b19f1></div><a class="VPLink link link" href="/article/network/4.%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81%E5%92%8CCIDR.html" data-v-d91b19f1><!--[--><p class="text" data-v-d91b19f1>4.子网掩码和CIDR</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d91b19f1 data-v-d91b19f1><div class="item" data-v-d91b19f1><div class="indicator" data-v-d91b19f1></div><a class="VPLink link link" href="/article/network/5.DHCP%E5%8A%A8%E6%80%81%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE.html" data-v-d91b19f1><!--[--><p class="text" data-v-d91b19f1>5.DHCP动态主机配置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d91b19f1 data-v-d91b19f1><div class="item" data-v-d91b19f1><div class="indicator" data-v-d91b19f1></div><a class="VPLink link link" href="/article/network/6.%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E5%AE%9E%E8%B7%B5.html" data-v-d91b19f1><!--[--><p class="text" data-v-d91b19f1>6.网络配置实践</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d91b19f1 data-v-d91b19f1><div class="item" data-v-d91b19f1><div class="indicator" data-v-d91b19f1></div><a class="VPLink link link" href="/article/network/7.%E7%BD%91%E7%BB%9C%E9%97%AE%E9%A2%98%E8%A7%A3%E7%AD%94.html" data-v-d91b19f1><!--[--><p class="text" data-v-d91b19f1>7.网络问题解答</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-2cc7c178 data-v-0dfa13eb><div class="VPDoc has-sidebar has-aside" data-v-0dfa13eb data-v-53fb7e34><!--[--><!--]--><div class="container" data-v-53fb7e34><div class="aside" data-v-53fb7e34><div class="aside-curtain" data-v-53fb7e34></div><div class="aside-container" data-v-53fb7e34><div class="aside-content" data-v-53fb7e34><div class="VPDocAside" data-v-53fb7e34 data-v-7fe19af9><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-7fe19af9 data-v-54a2a90c><div class="content" data-v-54a2a90c><div class="outline-marker" data-v-54a2a90c></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-54a2a90c>On this page</div><ul class="VPDocOutlineItem root" data-v-54a2a90c data-v-4f615f1e><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-7fe19af9></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-53fb7e34><div class="content-container" data-v-53fb7e34><!--[--><!--[--><!--[--><div class="vp-nolebase-breadcrumbs" data-v-5cfdb222><!--[--><!--]--></div><!--]--><!--]--><!--]--><main class="main" data-v-53fb7e34><div style="position:relative;" class="vp-doc _article_network_5_DHCP%E5%8A%A8%E6%80%81%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE" data-v-53fb7e34><div><h1 id="dhcp动态主机配置" tabindex="-1">DHCP动态主机配置 <a class="header-anchor" href="#dhcp动态主机配置" aria-label="Permalink to &quot;DHCP动态主机配置&quot;">​</a></h1><h2 id="一、什么是dhcp" tabindex="-1">一、什么是DHCP <a class="header-anchor" href="#一、什么是dhcp" aria-label="Permalink to &quot;一、什么是DHCP&quot;">​</a></h2><h3 id="_1-什么是dhcp" tabindex="-1">1 什么是DHCP <a class="header-anchor" href="#_1-什么是dhcp" aria-label="Permalink to &quot;1 什么是DHCP&quot;">​</a></h3><p>DHCP（Dynamic Host Configuration Protocol，动态主机配置协议）是一种网络管理协议，用于自动为网络中的设备分配IP地址和其他网络配置参数。</p><p><strong>主要功能</strong>：</p><ul><li>自动分配IP地址</li><li>分配子网掩码</li><li>分配默认网关</li><li>分配DNS服务器地址</li><li>分配租约时间</li><li>其他网络参数（如NTP服务器、域名等）</li></ul><p><strong>优势</strong>：</p><ul><li>✅ <strong>自动化</strong>：无需手动配置每台设备</li><li>✅ <strong>集中管理</strong>：统一管理IP地址分配</li><li>✅ <strong>减少错误</strong>：避免IP地址冲突和配置错误</li><li>✅ <strong>灵活分配</strong>：支持动态和静态分配</li><li>✅ <strong>节省资源</strong>：设备断开时IP地址可回收</li></ul><h3 id="_2-dhcp工作原理" tabindex="-1">2 DHCP工作原理 <a class="header-anchor" href="#_2-dhcp工作原理" aria-label="Permalink to &quot;2 DHCP工作原理&quot;">​</a></h3><h4 id="_2-1-dhcp工作流程-dora过程" tabindex="-1">2.1 DHCP工作流程（DORA过程） <a class="header-anchor" href="#_2-1-dhcp工作流程-dora过程" aria-label="Permalink to &quot;2.1 DHCP工作流程（DORA过程）&quot;">​</a></h4><p>DHCP使用四个步骤完成IP地址分配，称为DORA过程：</p><p><strong>1. Discover（发现）</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>客户端 → 广播 → DHCP服务器</span></span>
<span class="line"><span>&quot;我需要一个IP地址！&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>客户端启动时，发送DHCP Discover广播包</li><li>源IP：0.0.0.0（客户端还没有IP地址）</li><li>目标IP：255.255.255.255（广播地址）</li><li>目的：寻找网络中的DHCP服务器</li></ul><p><strong>2. Offer（提供）</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>DHCP服务器 → 广播 → 客户端</span></span>
<span class="line"><span>&quot;我可以给你这个IP地址：192.168.1.100&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>DHCP服务器收到Discover后，从地址池中选择一个可用IP</li><li>发送DHCP Offer广播包，包含： <ul><li>分配的IP地址</li><li>子网掩码</li><li>默认网关</li><li>DNS服务器</li><li>租约时间</li></ul></li></ul><p><strong>3. Request（请求）</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>客户端 → 广播 → DHCP服务器</span></span>
<span class="line"><span>&quot;我接受这个IP地址：192.168.1.100&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>客户端收到Offer后，发送DHCP Request广播包</li><li>通知服务器接受提供的IP地址</li><li>同时通知其他DHCP服务器（如果有多个）拒绝它们的Offer</li></ul><p><strong>4. Acknowledge（确认）</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>DHCP服务器 → 广播 → 客户端</span></span>
<span class="line"><span>&quot;确认！IP地址 192.168.1.100 已分配给你&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>DHCP服务器发送DHCP ACK确认包</li><li>客户端收到后，配置网络参数</li><li>IP地址分配完成</li></ul><p><strong>完整流程图</strong>：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>客户端                    网络                     DHCP服务器</span></span>
<span class="line"><span>  |                        |                          |</span></span>
<span class="line"><span>  |---DHCP Discover-------&gt;|-------------------------&gt;|</span></span>
<span class="line"><span>  |   (广播)                |                          |</span></span>
<span class="line"><span>  |                        |                          |</span></span>
<span class="line"><span>  |&lt;--DHCP Offer-----------|&lt;--------------------------|</span></span>
<span class="line"><span>  |   (广播)                |                          |</span></span>
<span class="line"><span>  |                        |                          |</span></span>
<span class="line"><span>  |---DHCP Request--------&gt;|-------------------------&gt;|</span></span>
<span class="line"><span>  |   (广播)                |                          |</span></span>
<span class="line"><span>  |                        |                          |</span></span>
<span class="line"><span>  |&lt;--DHCP ACK-------------|&lt;--------------------------|</span></span>
<span class="line"><span>  |   (广播)                |                          |</span></span>
<span class="line"><span>  |                        |                          |</span></span>
<span class="line"><span>  | 配置IP地址和网络参数    |                          |</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="_2-2-dhcp租约机制" tabindex="-1">2.2 DHCP租约机制 <a class="header-anchor" href="#_2-2-dhcp租约机制" aria-label="Permalink to &quot;2.2 DHCP租约机制&quot;">​</a></h4><p><strong>租约时间（Lease Time）</strong>：</p><ul><li>DHCP分配的IP地址有使用期限</li><li>默认租约时间通常为： <ul><li>家庭路由器：24小时（86400秒）</li><li>企业网络：8小时（28800秒）</li><li>可自定义配置</li></ul></li></ul><p><strong>租约更新过程</strong>：</p><p><strong>1. T1时间（50%租约时间）</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>客户端 → DHCP服务器</span></span>
<span class="line"><span>&quot;我想续租这个IP地址&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>客户端在租约时间过半时，尝试续租</li><li>发送DHCP Request（单播）</li><li>如果服务器同意，更新租约时间</li></ul><p><strong>2. T2时间（87.5%租约时间）</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>客户端 → 广播</span></span>
<span class="line"><span>&quot;任何DHCP服务器，我想续租IP地址&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>如果T1续租失败，在87.5%租约时间时广播请求</li><li>允许从其他DHCP服务器获取新地址</li></ul><p><strong>3. 租约到期</strong></p><ul><li>如果续租失败，IP地址被回收</li><li>客户端需要重新进行DORA过程</li></ul><p><strong>租约时间示例</strong>：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>租约时间：24小时（86400秒）</span></span>
<span class="line"><span>T1时间：12小时（43200秒）- 开始续租</span></span>
<span class="line"><span>T2时间：21小时（75600秒）- 广播续租</span></span>
<span class="line"><span>到期时间：24小时（86400秒）- IP地址回收</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_3-dhcp服务器配置" tabindex="-1">3 DHCP服务器配置 <a class="header-anchor" href="#_3-dhcp服务器配置" aria-label="Permalink to &quot;3 DHCP服务器配置&quot;">​</a></h3><h4 id="_3-1-路由器dhcp配置-家庭网络" tabindex="-1">3.1 路由器DHCP配置（家庭网络） <a class="header-anchor" href="#_3-1-路由器dhcp配置-家庭网络" aria-label="Permalink to &quot;3.1 路由器DHCP配置（家庭网络）&quot;">​</a></h4><p>典型的家庭路由器DHCP配置：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>DHCP服务器：启用</span></span>
<span class="line"><span>IP地址池范围：192.168.1.100 ~ 192.168.1.200</span></span>
<span class="line"><span>子网掩码：255.255.255.0</span></span>
<span class="line"><span>默认网关：192.168.1.1</span></span>
<span class="line"><span>DNS服务器1：192.168.1.1（路由器）</span></span>
<span class="line"><span>DNS服务器2：8.8.8.8（Google DNS）</span></span>
<span class="line"><span>租约时间：86400秒（24小时）</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>配置步骤</strong>（以TP-Link路由器为例）：</p><ol><li>登录路由器管理界面（192.168.1.1）</li><li>进入&quot;DHCP服务器&quot;或&quot;网络设置&quot;</li><li>启用DHCP服务器</li><li>设置地址池范围</li><li>配置网关和DNS</li><li>保存设置</li></ol><h4 id="_3-2-windows-server-dhcp配置" tabindex="-1">3.2 Windows Server DHCP配置 <a class="header-anchor" href="#_3-2-windows-server-dhcp配置" aria-label="Permalink to &quot;3.2 Windows Server DHCP配置&quot;">​</a></h4><p><strong>安装DHCP服务</strong>：</p><div class="language-powershell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装DHCP服务器角色</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Install-WindowsFeature</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Name DHCP </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">IncludeManagementTools</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>配置DHCP作用域</strong>：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>作用域名称：办公室网络</span></span>
<span class="line"><span>IP地址范围：192.168.1.100 ~ 192.168.1.200</span></span>
<span class="line"><span>子网掩码：255.255.255.0</span></span>
<span class="line"><span>排除地址：192.168.1.150 ~ 192.168.1.160（保留给服务器）</span></span>
<span class="line"><span>租约时间：8小时</span></span>
<span class="line"><span>默认网关：192.168.1.1</span></span>
<span class="line"><span>DNS服务器：192.168.1.10, 8.8.8.8</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_3-3-linux-dhcp服务器配置-isc-dhcp-server" tabindex="-1">3.3 Linux DHCP服务器配置（isc-dhcp-server） <a class="header-anchor" href="#_3-3-linux-dhcp服务器配置-isc-dhcp-server" aria-label="Permalink to &quot;3.3 Linux DHCP服务器配置（isc-dhcp-server）&quot;">​</a></h4><p><strong>安装</strong>：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Ubuntu/Debian</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> isc-dhcp-server</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># CentOS/RHEL</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dhcp</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>配置文件</strong>：<code>/etc/dhcp/dhcpd.conf</code></p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 子网配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subnet</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 192.168.1.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> netmask</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 255.255.255.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # IP地址池</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    range</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 192.168.1.100</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 192.168.1.200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 默认网关</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> routers</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 192.168.1.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # DNS服务器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> domain-name-servers</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 192.168.1.1,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8.8.8.8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 域名</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> domain-name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 租约时间（秒）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    default-lease-time</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 28800</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 8小时</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    max-lease-time</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 86400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 24小时</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 排除的IP地址（保留给服务器）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        hardware</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ethernet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 00:11:22:33:44:55</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        fixed-address</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 192.168.1.50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p><strong>启动服务</strong>：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> isc-dhcp-server</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> isc-dhcp-server</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_4-dhcp客户端配置" tabindex="-1">4 DHCP客户端配置 <a class="header-anchor" href="#_4-dhcp客户端配置" aria-label="Permalink to &quot;4 DHCP客户端配置&quot;">​</a></h3><h4 id="_4-1-windows客户端" tabindex="-1">4.1 Windows客户端 <a class="header-anchor" href="#_4-1-windows客户端" aria-label="Permalink to &quot;4.1 Windows客户端&quot;">​</a></h4><p><strong>自动获取IP地址（默认）</strong>：</p><div class="language-cmd vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"># 查看当前IP配置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ipconfig</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"># 释放IP地址</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ipconfig /release</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"># 重新获取IP地址</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ipconfig /renew</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"># 查看详细信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ipconfig /all</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>手动配置静态IP</strong>：</p><ol><li>打开&quot;网络和共享中心&quot;</li><li>点击&quot;更改适配器设置&quot;</li><li>右键网络适配器 → &quot;属性&quot;</li><li>选择&quot;Internet协议版本4（TCP/IPv4）&quot; → &quot;属性&quot;</li><li>选择&quot;使用下面的IP地址&quot;</li><li>填写IP地址、子网掩码、默认网关、DNS服务器</li></ol><h4 id="_4-2-linux客户端" tabindex="-1">4.2 Linux客户端 <a class="header-anchor" href="#_4-2-linux客户端" aria-label="Permalink to &quot;4.2 Linux客户端&quot;">​</a></h4><p><strong>使用NetworkManager（自动）</strong>：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看网络配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nmcli</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> connection</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> show</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 修改为自动获取</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nmcli</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> connection</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> modify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Wired connection 1&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ipv4.method</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> auto</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 重新连接</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nmcli</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> connection</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Wired connection 1&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>使用dhclient（手动）</strong>：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 释放IP地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dhclient</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eth0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 获取IP地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dhclient</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eth0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看租约信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/dhcp/dhclient.leases</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>使用systemd-networkd</strong>：</p><div class="language-ini vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># /etc/systemd/network/20-wired.network</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[Match]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=eth0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[Network]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DHCP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=yes</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_4-3-macos客户端" tabindex="-1">4.3 macOS客户端 <a class="header-anchor" href="#_4-3-macos客户端" aria-label="Permalink to &quot;4.3 macOS客户端&quot;">​</a></h4><p><strong>使用命令行</strong>：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 释放IP地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ipconfig</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> en0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DHCP</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或使用网络偏好设置</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 系统偏好设置 → 网络 → 选择接口 → 使用DHCP</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_5-dhcp保留地址-静态分配" tabindex="-1">5 DHCP保留地址（静态分配） <a class="header-anchor" href="#_5-dhcp保留地址-静态分配" aria-label="Permalink to &quot;5 DHCP保留地址（静态分配）&quot;">​</a></h3><p><strong>什么是DHCP保留</strong>：</p><ul><li>为特定设备（通过MAC地址）分配固定的IP地址</li><li>设备仍然通过DHCP获取IP，但每次都会得到相同的地址</li><li>结合了DHCP的便利性和静态IP的稳定性</li></ul><p><strong>配置示例</strong>（路由器）：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>MAC地址：00:11:22:33:44:55</span></span>
<span class="line"><span>保留IP地址：192.168.1.50</span></span>
<span class="line"><span>设备名称：打印机</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>配置示例</strong>（Linux DHCP服务器）：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># /etc/dhcp/dhcpd.conf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> printer</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    hardware</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ethernet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 00:11:22:33:44:55</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    fixed-address</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 192.168.1.50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> host-name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;printer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>应用场景</strong>：</p><ul><li>服务器需要固定IP地址</li><li>网络打印机需要固定IP</li><li>网络摄像头需要固定IP</li><li>需要端口转发的设备</li></ul><h3 id="_6-dhcp中继-relay" tabindex="-1">6 DHCP中继（Relay） <a class="header-anchor" href="#_6-dhcp中继-relay" aria-label="Permalink to &quot;6 DHCP中继（Relay）&quot;">​</a></h3><p><strong>什么是DHCP中继</strong>：</p><ul><li>当客户端和DHCP服务器不在同一网段时，需要DHCP中继</li><li>中继代理转发DHCP消息，使跨网段分配成为可能</li></ul><p><strong>工作原理</strong>：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>客户端（网段A） → 路由器（DHCP中继） → DHCP服务器（网段B）</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>配置示例</strong>（Cisco路由器）：</p><div class="language-cisco vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cisco</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>interface GigabitEthernet0/0</span></span>
<span class="line"><span> ip helper-address 192.168.10.100  # DHCP服务器地址</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>配置示例</strong>（Linux）：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装dhcrelay</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> isc-dhcp-relay</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 配置</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># /etc/default/isc-dhcp-relay</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SERVERS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;192.168.10.100&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">INTERFACES</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eth0 eth1&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_7-dhcp故障排查" tabindex="-1">7 DHCP故障排查 <a class="header-anchor" href="#_7-dhcp故障排查" aria-label="Permalink to &quot;7 DHCP故障排查&quot;">​</a></h3><h4 id="_7-1-常见问题" tabindex="-1">7.1 常见问题 <a class="header-anchor" href="#_7-1-常见问题" aria-label="Permalink to &quot;7.1 常见问题&quot;">​</a></h4><p><strong>问题1：无法获取IP地址</strong></p><p><strong>症状</strong>：</p><ul><li>设备显示169.254.x.x（链路本地地址）</li><li>网络连接显示&quot;受限&quot;或&quot;无Internet访问&quot;</li></ul><p><strong>排查步骤</strong>：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. 检查DHCP服务是否运行</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Windows Server</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Get-Service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DHCPServer</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Linux</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> isc-dhcp-server</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. 检查地址池是否耗尽</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看DHCP租约</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Windows Server</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Get-DhcpServerv4Lease</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ScopeId</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 192.168.1.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Linux</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/dhcp/dhcpd.leases</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3. 检查网络连接</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ping</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 192.168.1.1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 网关</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 4. 检查防火墙</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 确保UDP端口67（服务器）和68（客户端）开放</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 5. 客户端重新获取</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ipconfig</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /release</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ipconfig</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /renew</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p><strong>问题2：IP地址冲突</strong></p><p><strong>症状</strong>：</p><ul><li>设备提示IP地址冲突</li><li>网络连接不稳定</li></ul><p><strong>解决方法</strong>：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. 检查是否有设备使用静态IP，但该IP在DHCP地址池中</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. 从DHCP地址池中排除冲突的IP</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3. 或者将静态IP设备改为使用DHCP保留</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Windows：查看冲突的IP</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Linux：查看ARP表</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>问题3：租约无法更新</strong></p><p><strong>症状</strong>：</p><ul><li>设备定期失去网络连接</li><li>需要手动重新获取IP</li></ul><p><strong>解决方法</strong>：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. 检查DHCP服务器是否可达</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ping</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">DHCP服务器I</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">P</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. 检查租约时间设置</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 如果租约时间太短，可以增加</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3. 检查网络稳定性</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 确保客户端和服务器之间网络稳定</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_7-2-诊断工具" tabindex="-1">7.2 诊断工具 <a class="header-anchor" href="#_7-2-诊断工具" aria-label="Permalink to &quot;7.2 诊断工具&quot;">​</a></h4><p><strong>Wireshark抓包分析</strong>：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>过滤器：bootp 或 dhcp</span></span>
<span class="line"><span>可以查看完整的DORA过程</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>Windows诊断</strong>：</p><div class="language-cmd vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"># 查看DHCP租约信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ipconfig /all</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"># 查看详细网络配置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">netsh interface ip show config</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"># 重置网络配置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">netsh winsock reset</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">netsh </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ip reset</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>Linux诊断</strong>：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看DHCP租约</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/dhcp/dhclient.leases</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看网络配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> addr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> show</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> route</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> show</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 测试DHCP服务器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dhclient</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eth0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_8-dhcp-vs-静态ip" tabindex="-1">8 DHCP vs 静态IP <a class="header-anchor" href="#_8-dhcp-vs-静态ip" aria-label="Permalink to &quot;8 DHCP vs 静态IP&quot;">​</a></h3><table tabindex="0"><thead><tr><th>特性</th><th>DHCP</th><th>静态IP</th></tr></thead><tbody><tr><td>配置方式</td><td>自动</td><td>手动</td></tr><tr><td>IP地址</td><td>动态分配</td><td>固定</td></tr><tr><td>管理难度</td><td>简单</td><td>复杂</td></tr><tr><td>适用场景</td><td>客户端设备</td><td>服务器、网络设备</td></tr><tr><td>IP冲突风险</td><td>低（服务器管理）</td><td>高（手动管理）</td></tr><tr><td>灵活性</td><td>高</td><td>低</td></tr><tr><td>移动性</td><td>好（自动适应网络）</td><td>差（需要重新配置）</td></tr></tbody></table><p><strong>选择建议</strong>：</p><ul><li><strong>使用DHCP</strong>：客户端设备、移动设备、临时设备</li><li><strong>使用静态IP</strong>：服务器、网络设备、需要固定IP的服务</li><li><strong>使用DHCP保留</strong>：需要固定IP但想利用DHCP管理的设备</li></ul><h3 id="_9-dhcp安全考虑" tabindex="-1">9 DHCP安全考虑 <a class="header-anchor" href="#_9-dhcp安全考虑" aria-label="Permalink to &quot;9 DHCP安全考虑&quot;">​</a></h3><p><strong>1. DHCP欺骗攻击（DHCP Spoofing）</strong></p><p><strong>攻击方式</strong>：</p><ul><li>攻击者在网络中部署恶意DHCP服务器</li><li>客户端可能从恶意服务器获取错误的网络配置</li><li>可能导致中间人攻击</li></ul><p><strong>防护措施</strong>：</p><ul><li>使用DHCP Snooping（交换机功能）</li><li>限制DHCP服务器端口</li><li>使用802.1X认证</li></ul><p><strong>2. 地址池耗尽攻击</strong></p><p><strong>攻击方式</strong>：</p><ul><li>攻击者快速请求大量IP地址</li><li>耗尽DHCP地址池</li><li>导致合法用户无法获取IP</li></ul><p><strong>防护措施</strong>：</p><ul><li>限制每个端口的MAC地址数量</li><li>监控DHCP租约数量</li><li>设置合理的租约时间</li></ul><p><strong>3. 最佳实践</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>✅ 定期审查DHCP租约</span></span>
<span class="line"><span>✅ 监控异常DHCP活动</span></span>
<span class="line"><span>✅ 使用DHCP保留管理重要设备</span></span>
<span class="line"><span>✅ 定期更新DHCP服务器软件</span></span>
<span class="line"><span>✅ 限制DHCP服务器访问权限</span></span>
<span class="line"><span>✅ 使用VLAN隔离不同网络</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></div></div></main><footer class="VPDocFooter" data-v-53fb7e34 data-v-c19e2a97><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-c19e2a97><span class="visually-hidden" id="doc-footer-aria-label" data-v-c19e2a97>Pager</span><div class="pager" data-v-c19e2a97><a class="VPLink link pager-link prev" href="/article/network/4.%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81%E5%92%8CCIDR.html" data-v-c19e2a97><!--[--><span class="desc" data-v-c19e2a97>Previous page</span><span class="title" data-v-c19e2a97>4.子网掩码和CIDR</span><!--]--></a></div><div class="pager" data-v-c19e2a97><a class="VPLink link pager-link next" href="/article/network/6.%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E5%AE%9E%E8%B7%B5.html" data-v-c19e2a97><!--[--><span class="desc" data-v-c19e2a97>Next page</span><span class="title" data-v-c19e2a97>6.网络配置实践</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"article_golang_core_1.go语言入门：环境安装与配置.md\":\"D_-09PR8\",\"article_golang_core_10.go语言实践：包管理.md\":\"D-aISDij\",\"article_golang_core_11.go语言实践：错误处理.md\":\"DE5tQe82\",\"article_golang_core_12.go语言高级：接口.md\":\"BJu1hu0g\",\"article_golang_core_13.1.go语言高级：gmp调度模型.md\":\"BtJIQ_le\",\"article_golang_core_13.go语言高级：并发基础.md\":\"CCAUSBg0\",\"article_golang_core_14.go语言高级：channel通信.md\":\"Ccb7nWDH\",\"article_golang_core_15.go语言高级：并发控制.md\":\"D7oyns7v\",\"article_golang_core_16.go语言高级：并发模式与安全.md\":\"D04sGfCh\",\"article_golang_core_17.go语言高级：高级并发.md\":\"BTYawpz3\",\"article_golang_core_18.go语言高级：反射.md\":\"Dw1OHHed\",\"article_golang_core_2.go语言入门：基础语法与变量常量.md\":\"DpFA3YKf\",\"article_golang_core_3.go语言基础：数据类型与类型转换.md\":\"B6Qg2665\",\"article_golang_core_4.go语言基础：运算符与位运算.md\":\"s7ll_rrh\",\"article_golang_core_5.go语言基础：指针.md\":\"D2HbdWa7\",\"article_golang_core_6.go语言基础：字符串、数组与切片.md\":\"UWsboGww\",\"article_golang_core_7.go语言基础：控制流.md\":\"D-zxvj2x\",\"article_golang_core_8.go语言基础：函数.md\":\"BG4KW8Qy\",\"article_golang_core_9.go语言进阶：复合类型与结构体.md\":\"D-w0HqCz\",\"article_golang_core_index.md\":\"DxvyMh7F\",\"article_golang_gin_1.gin入门：快速开始.md\":\"DRRzbJXI\",\"article_golang_gin_2.gin基础：请求与响应.md\":\"CyOZIfJB\",\"article_golang_gin_3.gin进阶：中间件与路由组.md\":\"C8yuRJpm\",\"article_golang_gin_4.gin实践：数据绑定与验证.md\":\"DzvJz4YZ\",\"article_golang_gin_5.gin高级：项目结构与最佳实践.md\":\"pEWuP32a\",\"article_golang_gin_index.md\":\"nEHLifUi\",\"article_golang_gorm_1.gorm入门：快速开始.md\":\"CQPx8bQw\",\"article_golang_gorm_2.gorm基础：模型定义.md\":\"CTefR-YQ\",\"article_golang_gorm_3.gorm基础：crud操作.md\":\"CxtuM3eJ\",\"article_golang_gorm_4.gorm进阶：查询和条件.md\":\"SKNMW3ni\",\"article_golang_gorm_5.gorm进阶：关联和预加载.md\":\"mv-Bm_KC\",\"article_golang_gorm_6.gorm高级：事务处理.md\":\"DNcYD875\",\"article_golang_gorm_7.gorm高级：钩子函数.md\":\"B4jX3ud-\",\"article_golang_gorm_8.gorm精通：高级特性.md\":\"CMY0uToS\",\"article_golang_gorm_9.gorm实践：最佳实践和项目结构.md\":\"B5F3odta\",\"article_golang_gorm_index.md\":\"onPDfih9\",\"article_golang_index.md\":\"C9Xm6SVR\",\"article_golang_kratos_1.kratos入门：快速开始.md\":\"Cf5hoT1U\",\"article_golang_kratos_2.kratos基础：http服务.md\":\"Cs2RN-XA\",\"article_golang_kratos_3.kratos进阶：数据访问层.md\":\"Chn8grhH\",\"article_golang_kratos_4.kratos实践：业务逻辑层.md\":\"Bn0CIVKk\",\"article_golang_kratos_5.kratos高级：微服务架构.md\":\"DHsRc6BY\",\"article_golang_kratos_index.md\":\"CYzWHvth\",\"article_golang_wasm_1.webassembly入门：快速开始.md\":\"qJuhb8Uk\",\"article_golang_wasm_2.webassembly基础：go与javascript交互.md\":\"BrUF0LHR\",\"article_golang_wasm_3.webassembly进阶：dom操作.md\":\"BRH0y8Lm\",\"article_golang_wasm_4.webassembly实践：构建web应用.md\":\"D_0UUcwg\",\"article_golang_wasm_5.webassembly高级：性能优化和最佳实践.md\":\"Cni3JpYR\",\"article_golang_wasm_index.md\":\"DMfK2Xc5\",\"article_index.md\":\"ZNXVtaE7\",\"article_kafka_1.kafka入门：快速开始.md\":\"C4F2ewCH\",\"article_kafka_11.kafka实践：node.js和go客户端开发.md\":\"Be2kk7wW\",\"article_kafka_2.kafka基础：核心概念.md\":\"DNqvfSJr\",\"article_kafka_index.md\":\"DvaEJyuQ\",\"article_network_1.ip地址基础.md\":\"Dt8S5KKj\",\"article_network_2.局域网和公网ip.md\":\"Cd4_psZB\",\"article_network_3.特殊ip地址.md\":\"Chet74XS\",\"article_network_4.子网掩码和cidr.md\":\"Dw_TApWr\",\"article_network_5.dhcp动态主机配置.md\":\"B6D04Nwk\",\"article_network_6.网络配置实践.md\":\"C3KfepaN\",\"article_network_7.网络问题解答.md\":\"BC9bKjUR\",\"article_network_index.md\":\"esM-lDTP\",\"article_nginx_1.nginx入门：快速开始.md\":\"iA-4GP9e\",\"article_nginx_10.nginx实践：常见场景配置.md\":\"CDLqRVyb\",\"article_nginx_2.nginx基础：配置文件详解.md\":\"BbIH1YhF\",\"article_nginx_3.nginx基础：虚拟主机配置.md\":\"NEYPD-JZ\",\"article_nginx_4.nginx进阶：反向代理.md\":\"Bv842Mzy\",\"article_nginx_5.nginx进阶：静态资源服务.md\":\"DOy5zCfK\",\"article_nginx_6.nginx进阶：ssl-tls配置.md\":\"DKBIR0Mw\",\"article_nginx_7.nginx高级：日志管理.md\":\"DkbxoPFy\",\"article_nginx_8.nginx高级：性能优化.md\":\"CSgAM04r\",\"article_nginx_9.nginx高级：安全配置.md\":\"Cb8lJxtJ\",\"article_nginx_index.md\":\"7-8JRwQt\",\"article_python_index.md\":\"Ngk7ZEUW\",\"article_question_5笔输入法教程：从入门到精通.md\":\"Ck0vlenL\",\"article_question_git多域名ssh配置.md\":\"BeTi_3kR\",\"article_question_index.md\":\"b4Jh3FMw\",\"article_question_test-issue.md\":\"C4QpmLQl\",\"article_question_学车教程_开车小技巧_index.md\":\"VGLQ33jd\",\"article_question_技术问题_vitepress-sidebar.md\":\"B-CWRn1Q\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"我的博客\",\"description\":\"这是我的个人博客，分享技术、生活和思考\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"首页\",\"link\":\"/article/\"},{\"text\":\"Go语言\",\"items\":[{\"text\":\"核心教程\",\"link\":\"/article/golang/core/\"},{\"text\":\"Gin框架\",\"link\":\"/article/golang/gin/\"},{\"text\":\"GORM\",\"link\":\"/article/golang/gorm/\"},{\"text\":\"Kratos\",\"link\":\"/article/golang/kratos/\"},{\"text\":\"WebAssembly\",\"link\":\"/article/golang/wasm/\"}]},{\"text\":\"Kafka\",\"link\":\"/article/kafka/\"},{\"text\":\"网络\",\"link\":\"/article/network/\"},{\"text\":\"Nginx\",\"link\":\"/article/nginx/\"},{\"text\":\"Python\",\"link\":\"/article/python/\"},{\"text\":\"日常问题\",\"link\":\"/article/question/\"}],\"sidebar\":{\"/article/golang/core/\":[{\"text\":\"Go语言核心教程\",\"link\":\"/article/golang/core/\",\"items\":[{\"text\":\"1.Go语言入门：环境安装与配置\",\"link\":\"/article/golang/core/1.Go语言入门：环境安装与配置\"},{\"text\":\"2.Go语言入门：基础语法与变量常量\",\"link\":\"/article/golang/core/2.Go语言入门：基础语法与变量常量\"},{\"text\":\"3.Go语言基础：数据类型与类型转换\",\"link\":\"/article/golang/core/3.Go语言基础：数据类型与类型转换\"},{\"text\":\"4.Go语言基础：运算符与位运算\",\"link\":\"/article/golang/core/4.Go语言基础：运算符与位运算\"},{\"text\":\"5.Go语言基础：指针\",\"link\":\"/article/golang/core/5.Go语言基础：指针\"},{\"text\":\"6.Go语言基础：字符串、数组与切片\",\"link\":\"/article/golang/core/6.Go语言基础：字符串、数组与切片\"},{\"text\":\"7.Go语言基础：控制流\",\"link\":\"/article/golang/core/7.Go语言基础：控制流\"},{\"text\":\"8.Go语言基础：函数\",\"link\":\"/article/golang/core/8.Go语言基础：函数\"},{\"text\":\"9.Go语言进阶：复合类型与结构体\",\"link\":\"/article/golang/core/9.Go语言进阶：复合类型与结构体\"},{\"text\":\"10.Go语言实践：包管理\",\"link\":\"/article/golang/core/10.Go语言实践：包管理\"},{\"text\":\"11.Go语言实践：错误处理\",\"link\":\"/article/golang/core/11.Go语言实践：错误处理\"},{\"text\":\"12.Go语言高级：接口\",\"link\":\"/article/golang/core/12.Go语言高级：接口\"},{\"text\":\"13.1.Go语言高级：GMP调度模型\",\"link\":\"/article/golang/core/13.1.Go语言高级：GMP调度模型\"},{\"text\":\"13.Go语言高级：并发基础\",\"link\":\"/article/golang/core/13.Go语言高级：并发基础\"},{\"text\":\"14.Go语言高级：Channel通信\",\"link\":\"/article/golang/core/14.Go语言高级：Channel通信\"},{\"text\":\"15.Go语言高级：并发控制\",\"link\":\"/article/golang/core/15.Go语言高级：并发控制\"},{\"text\":\"16.Go语言高级：并发模式与安全\",\"link\":\"/article/golang/core/16.Go语言高级：并发模式与安全\"},{\"text\":\"17.Go语言高级：高级并发\",\"link\":\"/article/golang/core/17.Go语言高级：高级并发\"},{\"text\":\"18.Go语言高级：反射\",\"link\":\"/article/golang/core/18.Go语言高级：反射\"}]}],\"/article/golang/gin/\":[{\"text\":\"Gin框架教程\",\"link\":\"/article/golang/gin/\",\"items\":[{\"text\":\"1.Gin入门：快速开始\",\"link\":\"/article/golang/gin/1.Gin入门：快速开始\"},{\"text\":\"2.Gin基础：请求与响应\",\"link\":\"/article/golang/gin/2.Gin基础：请求与响应\"},{\"text\":\"3.Gin进阶：中间件与路由组\",\"link\":\"/article/golang/gin/3.Gin进阶：中间件与路由组\"},{\"text\":\"4.Gin实践：数据绑定与验证\",\"link\":\"/article/golang/gin/4.Gin实践：数据绑定与验证\"},{\"text\":\"5.Gin高级：项目结构与最佳实践\",\"link\":\"/article/golang/gin/5.Gin高级：项目结构与最佳实践\"}]}],\"/article/golang/gorm/\":[{\"text\":\"GORM教程\",\"link\":\"/article/golang/gorm/\",\"items\":[{\"text\":\"1.GORM入门：快速开始\",\"link\":\"/article/golang/gorm/1.GORM入门：快速开始\"},{\"text\":\"2.GORM基础：模型定义\",\"link\":\"/article/golang/gorm/2.GORM基础：模型定义\"},{\"text\":\"3.GORM基础：CRUD操作\",\"link\":\"/article/golang/gorm/3.GORM基础：CRUD操作\"},{\"text\":\"4.GORM进阶：查询和条件\",\"link\":\"/article/golang/gorm/4.GORM进阶：查询和条件\"},{\"text\":\"5.GORM进阶：关联和预加载\",\"link\":\"/article/golang/gorm/5.GORM进阶：关联和预加载\"},{\"text\":\"6.GORM高级：事务处理\",\"link\":\"/article/golang/gorm/6.GORM高级：事务处理\"},{\"text\":\"7.GORM高级：钩子函数\",\"link\":\"/article/golang/gorm/7.GORM高级：钩子函数\"},{\"text\":\"8.GORM精通：高级特性\",\"link\":\"/article/golang/gorm/8.GORM精通：高级特性\"},{\"text\":\"9.GORM实践：最佳实践和项目结构\",\"link\":\"/article/golang/gorm/9.GORM实践：最佳实践和项目结构\"}]}],\"/article/golang/kratos/\":[{\"text\":\"Kratos框架教程\",\"link\":\"/article/golang/kratos/\",\"items\":[{\"text\":\"1.Kratos入门：快速开始\",\"link\":\"/article/golang/kratos/1.Kratos入门：快速开始\"},{\"text\":\"2.Kratos基础：HTTP服务\",\"link\":\"/article/golang/kratos/2.Kratos基础：HTTP服务\"},{\"text\":\"3.Kratos进阶：数据访问层\",\"link\":\"/article/golang/kratos/3.Kratos进阶：数据访问层\"},{\"text\":\"4.Kratos实践：业务逻辑层\",\"link\":\"/article/golang/kratos/4.Kratos实践：业务逻辑层\"},{\"text\":\"5.Kratos高级：微服务架构\",\"link\":\"/article/golang/kratos/5.Kratos高级：微服务架构\"}]}],\"/article/golang/wasm/\":[{\"text\":\"WebAssembly教程\",\"link\":\"/article/golang/wasm/\",\"items\":[{\"text\":\"1.WebAssembly入门：快速开始\",\"link\":\"/article/golang/wasm/1.WebAssembly入门：快速开始\"},{\"text\":\"2.WebAssembly基础：Go与JavaScript交互\",\"link\":\"/article/golang/wasm/2.WebAssembly基础：Go与JavaScript交互\"},{\"text\":\"3.WebAssembly进阶：DOM操作\",\"link\":\"/article/golang/wasm/3.WebAssembly进阶：DOM操作\"},{\"text\":\"4.WebAssembly实践：构建Web应用\",\"link\":\"/article/golang/wasm/4.WebAssembly实践：构建Web应用\"},{\"text\":\"5.WebAssembly高级：性能优化和最佳实践\",\"link\":\"/article/golang/wasm/5.WebAssembly高级：性能优化和最佳实践\"}]}],\"/article/kafka/\":[{\"text\":\"Kafka教程\",\"link\":\"/article/kafka/\",\"items\":[{\"text\":\"1.Kafka入门：快速开始\",\"link\":\"/article/kafka/1.Kafka入门：快速开始\"},{\"text\":\"2.Kafka基础：核心概念\",\"link\":\"/article/kafka/2.Kafka基础：核心概念\"},{\"text\":\"11.Kafka实践：Node.js和Go客户端开发\",\"link\":\"/article/kafka/11.Kafka实践：Node.js和Go客户端开发\"}]}],\"/article/network/\":[{\"text\":\"网络问题\",\"link\":\"/article/network/\",\"items\":[{\"text\":\"1.IP地址基础\",\"link\":\"/article/network/1.IP地址基础\"},{\"text\":\"2.局域网和公网IP\",\"link\":\"/article/network/2.局域网和公网IP\"},{\"text\":\"3.特殊IP地址\",\"link\":\"/article/network/3.特殊IP地址\"},{\"text\":\"4.子网掩码和CIDR\",\"link\":\"/article/network/4.子网掩码和CIDR\"},{\"text\":\"5.DHCP动态主机配置\",\"link\":\"/article/network/5.DHCP动态主机配置\"},{\"text\":\"6.网络配置实践\",\"link\":\"/article/network/6.网络配置实践\"},{\"text\":\"7.网络问题解答\",\"link\":\"/article/network/7.网络问题解答\"}]}],\"/article/nginx/\":[{\"text\":\"Nginx教程\",\"link\":\"/article/nginx/\",\"items\":[{\"text\":\"1.Nginx入门：快速开始\",\"link\":\"/article/nginx/1.Nginx入门：快速开始\"},{\"text\":\"2.Nginx基础：配置文件详解\",\"link\":\"/article/nginx/2.Nginx基础：配置文件详解\"},{\"text\":\"3.Nginx基础：虚拟主机配置\",\"link\":\"/article/nginx/3.Nginx基础：虚拟主机配置\"},{\"text\":\"4.Nginx进阶：反向代理\",\"link\":\"/article/nginx/4.Nginx进阶：反向代理\"},{\"text\":\"5.Nginx进阶：静态资源服务\",\"link\":\"/article/nginx/5.Nginx进阶：静态资源服务\"},{\"text\":\"6.Nginx进阶：SSL-TLS配置\",\"link\":\"/article/nginx/6.Nginx进阶：SSL-TLS配置\"},{\"text\":\"7.Nginx高级：日志管理\",\"link\":\"/article/nginx/7.Nginx高级：日志管理\"},{\"text\":\"8.Nginx高级：性能优化\",\"link\":\"/article/nginx/8.Nginx高级：性能优化\"},{\"text\":\"9.Nginx高级：安全配置\",\"link\":\"/article/nginx/9.Nginx高级：安全配置\"},{\"text\":\"10.Nginx实践：常见场景配置\",\"link\":\"/article/nginx/10.Nginx实践：常见场景配置\"}]}],\"/article/python/\":[{\"text\":\"Python教程\",\"link\":\"/article/python/\",\"items\":[]}],\"/article/question/\":[{\"text\":\"日常问题\",\"link\":\"/article/question/\",\"items\":[{\"text\":\"git多域名ssh配置\",\"link\":\"/article/question/git多域名ssh配置\"},{\"text\":\"test-issue\",\"link\":\"/article/question/test-issue\"},{\"text\":\"5笔输入法教程：从入门到精通\",\"link\":\"/article/question/5笔输入法教程：从入门到精通\"}]}]}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>