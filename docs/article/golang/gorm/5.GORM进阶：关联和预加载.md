---
title: 5ã€GORMè¿›é˜¶ï¼šå…³è”å’Œé¢„åŠ è½½
date: 2026-01-09
description: æ·±å…¥å­¦ä¹ GORMçš„å…³è”å…³ç³»ï¼ŒåŒ…æ‹¬ä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹å¤šå’Œé¢„åŠ è½½
---

# 5ã€GORMè¿›é˜¶ï¼šå…³è”å’Œé¢„åŠ è½½

æœ¬æ–‡æ¡£æ·±å…¥è®²è§£GORMçš„å…³è”å…³ç³»ï¼Œè¿™æ˜¯ORMæ¡†æ¶çš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€ï¼Œèƒ½å¤Ÿè½»æ¾å¤„ç†å¤æ‚çš„æ•°æ®å…³ç³»ã€‚

## ğŸ¯ æœ¬è¯¾å­¦ä¹ ç›®æ ‡

å®Œæˆæœ¬è¯¾åï¼Œä½ å°†èƒ½å¤Ÿï¼š
- âœ… ç†è§£æ•°æ®åº“å…³è”å…³ç³»çš„æ¦‚å¿µ
- âœ… æŒæ¡ä¸€å¯¹ä¸€å…³è”ï¼ˆBelongs To / Has Oneï¼‰
- âœ… æŒæ¡ä¸€å¯¹å¤šå…³è”ï¼ˆHas Manyï¼‰
- âœ… æŒæ¡å¤šå¯¹å¤šå…³è”ï¼ˆMany to Manyï¼‰
- âœ… å­¦ä¼šä½¿ç”¨é¢„åŠ è½½é¿å…N+1æŸ¥è¯¢
- âœ… ç†è§£å…³è”çš„å¢åˆ æ”¹æ“ä½œ

---

## å‰ç½®çŸ¥è¯†

- **ç¬¬1-4è¯¾**ï¼šæŒæ¡GORMçš„åŸºç¡€æ“ä½œå’ŒæŸ¥è¯¢

---

## ä¸€ã€å…³è”å…³ç³»åŸºç¡€

### 1.1 ä»€ä¹ˆæ˜¯å…³è”ï¼Ÿ

å…³è”ï¼ˆAssociationï¼‰æ˜¯æ•°æ®åº“è¡¨ä¹‹é—´çš„å…³ç³»ï¼ŒGORMæ”¯æŒä»¥ä¸‹å…³è”ç±»å‹ï¼š

- **Belongs To**ï¼šå±äºï¼ˆå¤šå¯¹ä¸€ï¼‰
- **Has One**ï¼šæ‹¥æœ‰ä¸€ä¸ªï¼ˆä¸€å¯¹ä¸€ï¼‰
- **Has Many**ï¼šæ‹¥æœ‰å¤šä¸ªï¼ˆä¸€å¯¹å¤šï¼‰
- **Many to Many**ï¼šå¤šå¯¹å¤š

### 1.2 å¤–é”®å’Œå¼•ç”¨

å…³è”å…³ç³»é€šè¿‡å¤–é”®ï¼ˆForeign Keyï¼‰å’Œå¼•ç”¨ï¼ˆReferenceï¼‰æ¥å»ºç«‹ï¼š

```go
type User struct {
    ID   uint   `gorm:"primaryKey"`
    Name string
}

type Order struct {
    ID     uint   `gorm:"primaryKey"`
    UserID uint   // å¤–é”®
    User   User   `gorm:"foreignKey:UserID;references:ID"` // å…³è”
    Total  float64
}
```

---

## äºŒã€Belongs Toï¼ˆå±äºï¼‰

### 2.1 åŸºæœ¬å®šä¹‰

Belongs Toè¡¨ç¤º"å¤šå¯¹ä¸€"å…³ç³»ï¼Œå¤šä¸ªè®°å½•å±äºä¸€ä¸ªè®°å½•ï¼š

```go
package main

import "gorm.io/gorm"

// User ç”¨æˆ·
type User struct {
    ID   uint   `gorm:"primaryKey"`
    Name string
}

// Order è®¢å•ï¼ˆå±äºç”¨æˆ·ï¼‰
type Order struct {
    ID     uint   `gorm:"primaryKey"`
    UserID uint   // å¤–é”®
    User   User   `gorm:"foreignKey:UserID;references:ID"` // Belongs To
    Total  float64
}
```

### 2.2 ä½¿ç”¨ç¤ºä¾‹

```go
package main

import (
    "fmt"
    "gorm.io/driver/sqlite"
    "gorm.io/gorm"
)

type User struct {
    ID   uint   `gorm:"primaryKey"`
    Name string
}

type Order struct {
    ID     uint    `gorm:"primaryKey"`
    UserID uint
    User   User    `gorm:"foreignKey:UserID;references:ID"`
    Total  float64
}

func main() {
    db, _ := gorm.Open(sqlite.Open("test.db"), &gorm.Config{})
    db.AutoMigrate(&User{}, &Order{})

    // åˆ›å»ºç”¨æˆ·
    user := User{Name: "å¼ ä¸‰"}
    db.Create(&user)

    // åˆ›å»ºè®¢å•ï¼ˆå…³è”ç”¨æˆ·ï¼‰
    order := Order{
        UserID: user.ID,
        Total:  100.0,
    }
    db.Create(&order)

    // æŸ¥è¯¢è®¢å•åŠå…¶ç”¨æˆ·
    var orderWithUser Order
    db.Preload("User").First(&orderWithUser, order.ID)
    fmt.Printf("è®¢å•: %+v, ç”¨æˆ·: %+v\n", orderWithUser, orderWithUser.User)
}
```

### 2.3 è‡ªå®šä¹‰å¤–é”®å’Œå¼•ç”¨

```go
type Order struct {
    ID         uint   `gorm:"primaryKey"`
    CustomerID uint   // è‡ªå®šä¹‰å¤–é”®å
    Customer   User   `gorm:"foreignKey:CustomerID;references:ID"`
    Total      float64
}
```

---

## ä¸‰ã€Has Oneï¼ˆæ‹¥æœ‰ä¸€ä¸ªï¼‰

### 3.1 åŸºæœ¬å®šä¹‰

Has Oneè¡¨ç¤º"ä¸€å¯¹ä¸€"å…³ç³»ï¼Œä¸€ä¸ªè®°å½•æ‹¥æœ‰å¦ä¸€ä¸ªè®°å½•ï¼š

```go
package main

import "gorm.io/gorm"

// User ç”¨æˆ·
type User struct {
    ID    uint   `gorm:"primaryKey"`
    Name  string
    Profile Profile `gorm:"foreignKey:UserID"` // Has One
}

// Profile ç”¨æˆ·èµ„æ–™
type Profile struct {
    ID     uint   `gorm:"primaryKey"`
    UserID uint   // å¤–é”®
    Bio    string
    Avatar string
}
```

### 3.2 ä½¿ç”¨ç¤ºä¾‹

```go
package main

import (
    "fmt"
    "gorm.io/driver/sqlite"
    "gorm.io/gorm"
)

type User struct {
    ID      uint    `gorm:"primaryKey"`
    Name    string
    Profile Profile `gorm:"foreignKey:UserID"`
}

type Profile struct {
    ID     uint   `gorm:"primaryKey"`
    UserID uint
    Bio    string
    Avatar string
}

func main() {
    db, _ := gorm.Open(sqlite.Open("test.db"), &gorm.Config{})
    db.AutoMigrate(&User{}, &Profile{})

    // åˆ›å»ºç”¨æˆ·å’Œèµ„æ–™
    user := User{
        Name: "å¼ ä¸‰",
        Profile: Profile{
            Bio:    "è¿™æ˜¯å¼ ä¸‰çš„ä¸ªäººç®€ä»‹",
            Avatar: "avatar.jpg",
        },
    }
    db.Create(&user)

    // æŸ¥è¯¢ç”¨æˆ·åŠå…¶èµ„æ–™
    var userWithProfile User
    db.Preload("Profile").First(&userWithProfile, user.ID)
    fmt.Printf("ç”¨æˆ·: %+v, èµ„æ–™: %+v\n", userWithProfile, userWithProfile.Profile)
}
```

---

## å››ã€Has Manyï¼ˆæ‹¥æœ‰å¤šä¸ªï¼‰

### 4.1 åŸºæœ¬å®šä¹‰

Has Manyè¡¨ç¤º"ä¸€å¯¹å¤š"å…³ç³»ï¼Œä¸€ä¸ªè®°å½•æ‹¥æœ‰å¤šä¸ªè®°å½•ï¼š

```go
package main

import "gorm.io/gorm"

// User ç”¨æˆ·
type User struct {
    ID     uint    `gorm:"primaryKey"`
    Name   string
    Orders []Order `gorm:"foreignKey:UserID"` // Has Many
}

// Order è®¢å•
type Order struct {
    ID     uint    `gorm:"primaryKey"`
    UserID uint    // å¤–é”®
    Total  float64
}
```

### 4.2 ä½¿ç”¨ç¤ºä¾‹

```go
package main

import (
    "fmt"
    "gorm.io/driver/sqlite"
    "gorm.io/gorm"
)

type User struct {
    ID     uint    `gorm:"primaryKey"`
    Name   string
    Orders []Order `gorm:"foreignKey:UserID"`
}

type Order struct {
    ID     uint    `gorm:"primaryKey"`
    UserID uint
    Total  float64
}

func main() {
    db, _ := gorm.Open(sqlite.Open("test.db"), &gorm.Config{})
    db.AutoMigrate(&User{}, &Order{})

    // åˆ›å»ºç”¨æˆ·å’Œå¤šä¸ªè®¢å•
    user := User{
        Name: "å¼ ä¸‰",
        Orders: []Order{
            {Total: 100.0},
            {Total: 200.0},
            {Total: 300.0},
        },
    }
    db.Create(&user)

    // æŸ¥è¯¢ç”¨æˆ·åŠå…¶æ‰€æœ‰è®¢å•
    var userWithOrders User
    db.Preload("Orders").First(&userWithOrders, user.ID)
    fmt.Printf("ç”¨æˆ·: %s, è®¢å•æ•°: %d\n", userWithOrders.Name, len(userWithOrders.Orders))
    for _, order := range userWithOrders.Orders {
        fmt.Printf("  è®¢å•: %.2f\n", order.Total)
    }
}
```

### 4.3 æ¡ä»¶é¢„åŠ è½½

```go
// é¢„åŠ è½½æ—¶æ·»åŠ æ¡ä»¶
db.Preload("Orders", "total > ?", 100).Find(&users)

// é¢„åŠ è½½æ—¶æ’åº
db.Preload("Orders", func(db *gorm.DB) *gorm.DB {
    return db.Order("total DESC")
}).Find(&users)
```

---

## äº”ã€Many to Manyï¼ˆå¤šå¯¹å¤šï¼‰

### 5.1 åŸºæœ¬å®šä¹‰

Many to Manyè¡¨ç¤º"å¤šå¯¹å¤š"å…³ç³»ï¼Œéœ€è¦ä¸­é—´è¡¨ï¼š

```go
package main

import "gorm.io/gorm"

// User ç”¨æˆ·
type User struct {
    ID      uint      `gorm:"primaryKey"`
    Name    string
    Roles   []Role    `gorm:"many2many:user_roles;"` // Many to Many
}

// Role è§’è‰²
type Role struct {
    ID    uint   `gorm:"primaryKey"`
    Name  string
    Users []User `gorm:"many2many:user_roles;"`
}
```

### 5.2 ä½¿ç”¨ç¤ºä¾‹

```go
package main

import (
    "fmt"
    "gorm.io/driver/sqlite"
    "gorm.io/gorm"
)

type User struct {
    ID    uint   `gorm:"primaryKey"`
    Name  string
    Roles []Role `gorm:"many2many:user_roles;"`
}

type Role struct {
    ID    uint   `gorm:"primaryKey"`
    Name  string
    Users []User `gorm:"many2many:user_roles;"`
}

func main() {
    db, _ := gorm.Open(sqlite.Open("test.db"), &gorm.Config{})
    db.AutoMigrate(&User{}, &Role{})

    // åˆ›å»ºè§’è‰²
    adminRole := Role{Name: "ç®¡ç†å‘˜"}
    userRole := Role{Name: "æ™®é€šç”¨æˆ·"}
    db.Create(&adminRole)
    db.Create(&userRole)

    // åˆ›å»ºç”¨æˆ·å¹¶å…³è”è§’è‰²
    user := User{
        Name: "å¼ ä¸‰",
        Roles: []Role{adminRole, userRole},
    }
    db.Create(&user)

    // æŸ¥è¯¢ç”¨æˆ·åŠå…¶è§’è‰²
    var userWithRoles User
    db.Preload("Roles").First(&userWithRoles, user.ID)
    fmt.Printf("ç”¨æˆ·: %s\n", userWithRoles.Name)
    for _, role := range userWithRoles.Roles {
        fmt.Printf("  è§’è‰²: %s\n", role.Name)
    }
}
```

### 5.3 è‡ªå®šä¹‰ä¸­é—´è¡¨

```go
type User struct {
    ID    uint
    Name  string
    Roles []Role `gorm:"many2many:user_roles;"`
}

type Role struct {
    ID    uint
    Name  string
    Users []User `gorm:"many2many:user_roles;"`
}

// ä¸­é—´è¡¨æ¨¡å‹
type UserRole struct {
    UserID    uint
    RoleID    uint
    CreatedAt time.Time
}

// ä½¿ç”¨è‡ªå®šä¹‰ä¸­é—´è¡¨
type User struct {
    ID    uint
    Name  string
    Roles []Role `gorm:"many2many:user_roles;joinForeignKey:user_id;joinReferences:role_id"`
}
```

---

## å…­ã€é¢„åŠ è½½ï¼ˆPreloadï¼‰

### 6.1 ä»€ä¹ˆæ˜¯é¢„åŠ è½½ï¼Ÿ

é¢„åŠ è½½ï¼ˆPreloadï¼‰æ˜¯åœ¨æŸ¥è¯¢ä¸»è®°å½•æ—¶ï¼ŒåŒæ—¶åŠ è½½å…³è”è®°å½•ï¼Œé¿å…N+1æŸ¥è¯¢é—®é¢˜ã€‚

#### N+1æŸ¥è¯¢é—®é¢˜

```go
// ä¸å¥½çš„åšæ³•ï¼šN+1æŸ¥è¯¢
var users []User
db.Find(&users)  // 1æ¬¡æŸ¥è¯¢

for _, user := range users {
    db.Model(&user).Association("Orders").Find(&user.Orders)  // Næ¬¡æŸ¥è¯¢
}
// æ€»å…±ï¼š1 + Næ¬¡æŸ¥è¯¢
```

#### ä½¿ç”¨é¢„åŠ è½½

```go
// å¥½çš„åšæ³•ï¼šä½¿ç”¨é¢„åŠ è½½
var users []User
db.Preload("Orders").Find(&users)  // åªéœ€è¦2æ¬¡æŸ¥è¯¢
// 1æ¬¡æŸ¥è¯¢ç”¨æˆ·ï¼Œ1æ¬¡æŸ¥è¯¢æ‰€æœ‰è®¢å•
```

### 6.2 å•å±‚é¢„åŠ è½½

```go
var users []User

// é¢„åŠ è½½å•ä¸ªå…³è”
db.Preload("Orders").Find(&users)

// é¢„åŠ è½½å¤šä¸ªå…³è”
db.Preload("Orders").Preload("Profile").Find(&users)
```

### 6.3 å¤šå±‚é¢„åŠ è½½

```go
type User struct {
    ID     uint
    Orders []Order
}

type Order struct {
    ID      uint
    Items   []OrderItem
}

type OrderItem struct {
    ID      uint
    Product Product
}

// å¤šå±‚é¢„åŠ è½½
db.Preload("Orders.Items.Product").Find(&users)
```

### 6.4 æ¡ä»¶é¢„åŠ è½½

```go
// é¢„åŠ è½½æ—¶æ·»åŠ æ¡ä»¶
db.Preload("Orders", "total > ?", 100).Find(&users)

// é¢„åŠ è½½æ—¶ä½¿ç”¨å‡½æ•°
db.Preload("Orders", func(db *gorm.DB) *gorm.DB {
    return db.Where("status = ?", "completed").Order("created_at DESC")
}).Find(&users)
```

### 6.5 åµŒå¥—é¢„åŠ è½½

```go
// é¢„åŠ è½½å…³è”çš„å…³è”
db.Preload("Orders").Preload("Orders.Items").Find(&users)
```

---

## ä¸ƒã€å…³è”æ“ä½œ

### 7.1 æ·»åŠ å…³è”

```go
var user User
var order Order

db.First(&user, 1)
db.First(&order, 1)

// æ·»åŠ å…³è”
db.Model(&user).Association("Orders").Append(&order)

// æ·»åŠ å¤šä¸ªå…³è”
db.Model(&user).Association("Orders").Append(&order1, &order2)
```

### 7.2 æ›¿æ¢å…³è”

```go
var user User
var newOrders []Order

db.First(&user, 1)
db.Find(&newOrders, []int{1, 2, 3})

// æ›¿æ¢æ‰€æœ‰å…³è”
db.Model(&user).Association("Orders").Replace(&newOrders)
```

### 7.3 åˆ é™¤å…³è”

```go
var user User
var order Order

db.First(&user, 1)
db.First(&order, 1)

// åˆ é™¤å…³è”ï¼ˆä¸åˆ é™¤è®°å½•æœ¬èº«ï¼‰
db.Model(&user).Association("Orders").Delete(&order)

// æ¸…ç©ºæ‰€æœ‰å…³è”
db.Model(&user).Association("Orders").Clear()
```

### 7.4 ç»Ÿè®¡å…³è”

```go
var user User
db.First(&user, 1)

// ç»Ÿè®¡å…³è”æ•°é‡
count := db.Model(&user).Association("Orders").Count()
fmt.Printf("è®¢å•æ•°: %d\n", count)
```

---

## å…«ã€å…³è”æŸ¥è¯¢

### 8.1 æŸ¥è¯¢å…³è”

```go
var user User
var orders []Order

db.First(&user, 1)

// æŸ¥è¯¢å…³è”
db.Model(&user).Association("Orders").Find(&orders)

// æ¡ä»¶æŸ¥è¯¢å…³è”
db.Model(&user).Where("total > ?", 100).Association("Orders").Find(&orders)
```

### 8.2 å…³è”æ¡ä»¶

```go
var user User
var orders []Order

db.First(&user, 1)

// ä½¿ç”¨æ¡ä»¶æŸ¥è¯¢å…³è”
db.Model(&user).
   Where("status = ?", "completed").
   Order("created_at DESC").
   Association("Orders").
   Find(&orders)
```

---

## ä¹ã€å®Œæ•´ç¤ºä¾‹

### 9.1 ç”µå•†ç³»ç»Ÿå…³è”ç¤ºä¾‹

```go
package main

import (
    "fmt"
    "time"
    "gorm.io/driver/sqlite"
    "gorm.io/gorm"
)

// User ç”¨æˆ·
type User struct {
    ID        uint      `gorm:"primaryKey"`
    Name      string
    Email     string
    Profile   Profile   `gorm:"foreignKey:UserID"`        // Has One
    Orders    []Order   `gorm:"foreignKey:UserID"`       // Has Many
    CreatedAt time.Time
}

// Profile ç”¨æˆ·èµ„æ–™
type Profile struct {
    ID     uint   `gorm:"primaryKey"`
    UserID uint
    Bio    string
    Avatar string
}

// Order è®¢å•
type Order struct {
    ID        uint       `gorm:"primaryKey"`
    UserID    uint
    User      User       `gorm:"foreignKey:UserID;references:ID"` // Belongs To
    Items     []OrderItem `gorm:"foreignKey:OrderID"`            // Has Many
    Total     float64
    Status    string
    CreatedAt time.Time
}

// OrderItem è®¢å•é¡¹
type OrderItem struct {
    ID        uint    `gorm:"primaryKey"`
    OrderID   uint
    ProductID uint
    Product   Product `gorm:"foreignKey:ProductID;references:ID"` // Belongs To
    Quantity  int
    Price     float64
}

// Product äº§å“
type Product struct {
    ID    uint   `gorm:"primaryKey"`
    Name  string
    Price float64
}

func main() {
    db, _ := gorm.Open(sqlite.Open("ecommerce.db"), &gorm.Config{})
    db.AutoMigrate(&User{}, &Profile{}, &Order{}, &OrderItem{}, &Product{})

    // åˆ›å»ºäº§å“
    product1 := Product{Name: "å•†å“1", Price: 100.0}
    product2 := Product{Name: "å•†å“2", Price: 200.0}
    db.Create(&product1)
    db.Create(&product2)

    // åˆ›å»ºç”¨æˆ·åŠå…¶å…³è”æ•°æ®
    user := User{
        Name:  "å¼ ä¸‰",
        Email: "zhangsan@example.com",
        Profile: Profile{
            Bio:    "è¿™æ˜¯å¼ ä¸‰çš„ä¸ªäººç®€ä»‹",
            Avatar: "avatar.jpg",
        },
        Orders: []Order{
            {
                Total:  300.0,
                Status: "completed",
                Items: []OrderItem{
                    {ProductID: product1.ID, Quantity: 1, Price: 100.0},
                    {ProductID: product2.ID, Quantity: 1, Price: 200.0},
                },
            },
        },
    }
    db.Create(&user)

    // æŸ¥è¯¢ç”¨æˆ·åŠå…¶æ‰€æœ‰å…³è”
    var userWithAll User
    db.Preload("Profile").
       Preload("Orders").
       Preload("Orders.Items").
       Preload("Orders.Items.Product").
       First(&userWithAll, user.ID)

    fmt.Printf("ç”¨æˆ·: %s\n", userWithAll.Name)
    fmt.Printf("èµ„æ–™: %+v\n", userWithAll.Profile)
    fmt.Printf("è®¢å•æ•°: %d\n", len(userWithAll.Orders))
    for _, order := range userWithAll.Orders {
        fmt.Printf("  è®¢å•: %.2f, çŠ¶æ€: %s\n", order.Total, order.Status)
        for _, item := range order.Items {
            fmt.Printf("    å•†å“: %s, æ•°é‡: %d, ä»·æ ¼: %.2f\n",
                item.Product.Name, item.Quantity, item.Price)
        }
    }
}
```

---

## åã€å…³è”æœ€ä½³å®è·µ

### 10.1 å¤–é”®å‘½å

```go
// æ¨èï¼šä½¿ç”¨æ¸…æ™°çš„å‘½å
type Order struct {
    ID     uint
    UserID uint  // å¤–é”®ï¼šè¡¨å+ID
    User   User  `gorm:"foreignKey:UserID;references:ID"`
}
```

### 10.2 é¢„åŠ è½½ç­–ç•¥

```go
// 1. æ€»æ˜¯ä½¿ç”¨é¢„åŠ è½½ï¼Œé¿å…N+1æŸ¥è¯¢
db.Preload("Orders").Find(&users)

// 2. æ¡ä»¶é¢„åŠ è½½ï¼ŒåªåŠ è½½éœ€è¦çš„æ•°æ®
db.Preload("Orders", "status = ?", "completed").Find(&users)

// 3. å¤šå±‚é¢„åŠ è½½ï¼Œä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰å…³è”
db.Preload("Orders.Items.Product").Find(&users)
```

### 10.3 å…³è”æ“ä½œ

```go
// ä½¿ç”¨äº‹åŠ¡ç¡®ä¿æ•°æ®ä¸€è‡´æ€§
db.Transaction(func(tx *gorm.DB) error {
    user := User{Name: "å¼ ä¸‰"}
    if err := tx.Create(&user).Error; err != nil {
        return err
    }

    order := Order{UserID: user.ID, Total: 100.0}
    if err := tx.Create(&order).Error; err != nil {
        return err
    }

    return nil
})
```

---

## æ€»ç»“

### å…³è”å…³ç³»è¦ç‚¹

1. **Belongs To**ï¼š
   - å¤šå¯¹ä¸€å…³ç³»
   - å¤–é”®åœ¨"å¤š"çš„ä¸€æ–¹
   - ä½¿ç”¨`foreignKey`å’Œ`references`å®šä¹‰

2. **Has One**ï¼š
   - ä¸€å¯¹ä¸€å…³ç³»
   - å¤–é”®åœ¨"ä¸€"çš„ä¸€æ–¹
   - ä¸€ä¸ªè®°å½•æ‹¥æœ‰å¦ä¸€ä¸ªè®°å½•

3. **Has Many**ï¼š
   - ä¸€å¯¹å¤šå…³ç³»
   - å¤–é”®åœ¨"å¤š"çš„ä¸€æ–¹
   - ä¸€ä¸ªè®°å½•æ‹¥æœ‰å¤šä¸ªè®°å½•

4. **Many to Many**ï¼š
   - å¤šå¯¹å¤šå…³ç³»
   - éœ€è¦ä¸­é—´è¡¨
   - ä½¿ç”¨`many2many`æ ‡ç­¾

### é¢„åŠ è½½è¦ç‚¹

1. **é¿å…N+1æŸ¥è¯¢**ï¼šæ€»æ˜¯ä½¿ç”¨é¢„åŠ è½½
2. **æ¡ä»¶é¢„åŠ è½½**ï¼šåªåŠ è½½éœ€è¦çš„æ•°æ®
3. **å¤šå±‚é¢„åŠ è½½**ï¼šä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰å…³è”
4. **æ€§èƒ½ä¼˜åŒ–**ï¼šåˆç†ä½¿ç”¨é¢„åŠ è½½ï¼Œé¿å…è¿‡åº¦åŠ è½½

### æœ€ä½³å®è·µ

1. **å¤–é”®å‘½å**ï¼šä½¿ç”¨æ¸…æ™°çš„å‘½åçº¦å®š
2. **ç´¢å¼•ä¼˜åŒ–**ï¼šä¸ºå¤–é”®æ·»åŠ ç´¢å¼•
3. **äº‹åŠ¡å¤„ç†**ï¼šå…³è”æ“ä½œä½¿ç”¨äº‹åŠ¡
4. **é”™è¯¯å¤„ç†**ï¼šæ£€æŸ¥å…³è”æ“ä½œçš„é”™è¯¯

æŒæ¡å…³è”å…³ç³»æ˜¯ä½¿ç”¨GORMçš„å…³é”®ã€‚åœ¨ä¸‹ä¸€è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ äº‹åŠ¡å¤„ç†å’Œç”Ÿå‘½å‘¨æœŸé’©å­ã€‚