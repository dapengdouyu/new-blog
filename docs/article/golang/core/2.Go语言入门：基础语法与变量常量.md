---
title: 2ã€Goè¯­è¨€å…¥é—¨ï¼šåŸºç¡€è¯­æ³•ä¸å˜é‡å¸¸é‡
date: 2026-01-09
description: ä»é›¶å¼€å§‹å­¦ä¹ Goè¯­è¨€çš„åŸºç¡€è¯­æ³•ã€ç¨‹åºç»“æ„ã€å˜é‡å’Œå¸¸é‡çš„å£°æ˜ä¸ä½¿ç”¨
---

# 2ã€Goè¯­è¨€å…¥é—¨ï¼šåŸºç¡€è¯­æ³•ä¸å˜é‡å¸¸é‡

æœ¬æ–‡æ¡£ä»æœ€åŸºç¡€çš„æ¦‚å¿µå¼€å§‹ï¼Œé€æ­¥æ·±å…¥ï¼Œå¸®åŠ©æŠ€æœ¯äººå‘˜ç³»ç»Ÿç†è§£Goè¯­è¨€çš„æ ¸å¿ƒæœºåˆ¶ã€‚

## ğŸ¯ æœ¬è¯¾å­¦ä¹ ç›®æ ‡

å®Œæˆæœ¬è¯¾åï¼Œä½ å°†èƒ½å¤Ÿï¼š
- âœ… ç†è§£Goç¨‹åºçš„åŸºæœ¬ç»“æ„ï¼ˆpackageã€importã€mainï¼‰
- âœ… æŒæ¡å˜é‡å’Œå¸¸é‡çš„å£°æ˜ä¸ä½¿ç”¨
- âœ… äº†è§£é›¶å€¼æ¦‚å¿µå’Œç±»å‹æ¨æ–­
- âœ… æŒæ¡iotaçš„ä½¿ç”¨æ–¹æ³•
- âœ… ç†è§£æšä¸¾çš„å®ç°æ–¹å¼

---

## ä¸€ã€Goç¨‹åºçš„åŸºæœ¬ç»“æ„

### 1.1 ç¬¬ä¸€ä¸ªGoç¨‹åº

```go
package main  // å£°æ˜åŒ…å

import "fmt"  // å¯¼å…¥æ ‡å‡†åº“

func main() {  // ä¸»å‡½æ•°ï¼Œç¨‹åºå…¥å£
    fmt.Println("Hello, Go!")
}
```

#### ç¨‹åºç»“æ„è¯´æ˜

1. **packageå£°æ˜**ï¼šæ¯ä¸ªGoæ–‡ä»¶å¿…é¡»ä»¥`package`å£°æ˜å¼€å§‹
   - `package main`ï¼šå¯æ‰§è¡Œç¨‹åºï¼Œå¿…é¡»åŒ…å«`main`å‡½æ•°
   - å…¶ä»–åŒ…åï¼šåº“åŒ…ï¼Œå¯ä»¥è¢«å…¶ä»–åŒ…å¯¼å…¥

2. **importå¯¼å…¥**ï¼šå¯¼å…¥éœ€è¦çš„åŒ…
   - æ ‡å‡†åº“ï¼šå¦‚`fmt`ã€`os`ã€`strings`ç­‰
   - ç¬¬ä¸‰æ–¹åº“ï¼šå¦‚`github.com/gin-gonic/gin`
   - æœ¬åœ°åŒ…ï¼šå¦‚`myproject/utils`

3. **å‡½æ•°å®šä¹‰**ï¼šä½¿ç”¨`func`å…³é”®å­—å®šä¹‰å‡½æ•°
   - `main`å‡½æ•°ï¼šç¨‹åºå…¥å£ï¼Œæ— å‚æ•°æ— è¿”å›å€¼

### 1.2 åŒ…ï¼ˆPackageï¼‰

```go
// å¯æ‰§è¡Œç¨‹åº
package main

func main() {
    // ç¨‹åºå…¥å£
}

// åº“åŒ…
package utils

func Helper() {
    // å¯è¢«å…¶ä»–åŒ…è°ƒç”¨çš„å‡½æ•°
}
```

### 1.3 å¯¼å…¥ï¼ˆImportï¼‰

```go
package main

// å•ä¸ªå¯¼å…¥
import "fmt"

// å¤šä¸ªå¯¼å…¥ï¼ˆæ¨èï¼‰
import (
    "fmt"
    "os"
    "strings"
)

// å¯¼å…¥åˆ«å
import (
    f "fmt"
    sql "database/sql"
)

// åŒ¿åå¯¼å…¥ï¼ˆåªæ‰§è¡Œinitå‡½æ•°ï¼‰
import _ "database/sql/driver"
```

---

## äºŒã€å˜é‡ï¼ˆVariablesï¼‰

### 2.1 åŸºæœ¬å£°æ˜æ–¹å¼

Goè¯­è¨€æä¾›äº†ä¸‰ç§å˜é‡å£°æ˜æ–¹å¼ï¼š

```go
package main

import "fmt"

func main() {
    // æ–¹å¼1ï¼švar å£°æ˜ï¼ˆå¯æ˜¾å¼æŒ‡å®šç±»å‹ï¼‰
    var name string = "Go"
    
    // æ–¹å¼2ï¼šç±»å‹æ¨æ–­ï¼ˆçœç•¥ç±»å‹ï¼‰
    var age = 18
    
    // æ–¹å¼3ï¼šçŸ­å˜é‡å£°æ˜ï¼ˆä»…å‡½æ•°å†…å¯ç”¨ï¼‰
    city := "Beijing"
    
    fmt.Println(name, age, city)
}
```

#### ä¸‰ç§æ–¹å¼çš„åŒºåˆ«

| æ–¹å¼ | ä½¿ç”¨åœºæ™¯ | é™åˆ¶ |
|------|----------|------|
| `var name string = "Go"` | éœ€è¦æ˜¾å¼ç±»å‹ | å¯åœ¨ä»»ä½•ä½œç”¨åŸŸä½¿ç”¨ |
| `var age = 18` | ç±»å‹æ¨æ–­ | å¯åœ¨ä»»ä½•ä½œç”¨åŸŸä½¿ç”¨ |
| `city := "Beijing"` | ç®€æ´å£°æ˜ | åªèƒ½åœ¨å‡½æ•°å†…ä½¿ç”¨ |

### 2.2 é›¶å€¼ï¼ˆZero Valueï¼‰

Goè¯­è¨€ä¸­ï¼Œæœªåˆå§‹åŒ–çš„å˜é‡ä¼šæœ‰é»˜è®¤å€¼ï¼š

```go
package main

import "fmt"

func main() {
    var (
        i int       // 0
        f float64   // 0.0
        s string    // ""
        b bool      // false
        p *int      // nil
        sl []int    // nil
        m map[string]int  // nil
    )
    
    fmt.Printf("int: %d, float: %.1f, string: %q, bool: %t\n", i, f, s, b)
    fmt.Printf("pointer: %v, slice: %v, map: %v\n", p, sl, m)
}
```

#### å„ç±»å‹çš„é›¶å€¼

| ç±»å‹ | é›¶å€¼ |
|------|------|
| æ•°å€¼ç±»å‹ï¼ˆintã€floatç­‰ï¼‰ | `0` |
| bool | `false` |
| string | `""`ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰ |
| æŒ‡é’ˆã€åˆ‡ç‰‡ã€mapã€channelã€interface | `nil` |
| ç»“æ„ä½“ | æ‰€æœ‰å­—æ®µçš„é›¶å€¼ |

### 2.3 å¤šå˜é‡å£°æ˜

```go
package main

import "fmt"

func main() {
    // åŒä¸€ç±»å‹
    var x, y, z int
    x, y, z = 1, 2, 3
    
    // ä¸åŒç±»å‹
    var (
        name string = "Go"
        age  int    = 10
    )
    
    // çŸ­å˜é‡å£°æ˜ï¼ˆå¤šå˜é‡ï¼‰
    a, b, c := 1, 2, "hello"
    
    // äº¤æ¢å˜é‡å€¼
    a, b = b, a
    
    fmt.Println(x, y, z, name, age, a, b, c)
}
```

### 2.4 å˜é‡ä½œç”¨åŸŸ

```go
package main

import "fmt"

// åŒ…çº§å˜é‡
var pkgVar = "åŒ…çº§å˜é‡"

func main() {
    // å‡½æ•°çº§å˜é‡
    var funcVar = "å‡½æ•°çº§å˜é‡"
    
    if true {
        // ä»£ç å—çº§å˜é‡
        var blockVar = "ä»£ç å—çº§å˜é‡"
        fmt.Println(blockVar)
    }
    // fmt.Println(blockVar)  // é”™è¯¯ï¼šblockVarä¸å¯è§
    
    fmt.Println(pkgVar, funcVar)
}
```

---

## ä¸‰ã€å¸¸é‡ï¼ˆConstantsï¼‰

### 3.1 å¸¸é‡çš„åŸºæœ¬æ¦‚å¿µ

å¸¸é‡åœ¨ç¼–è¯‘æœŸç¡®å®šï¼Œä¸å¯ä¿®æ”¹ï¼š

```go
package main

import "fmt"

const Pi = 3.14159

const (
    StatusOK       = 200
    StatusNotFound = 404
    StatusError    = 500
)

func main() {
    const localConst = "å±€éƒ¨å¸¸é‡"
    fmt.Println(Pi, StatusOK, localConst)
    
    // Pi = 3.14  // ç¼–è¯‘é”™è¯¯ï¼šcannot assign to Pi
}
```

### 3.2 iotaï¼šå¸¸é‡ç”Ÿæˆå™¨

`iota` ç”¨äºç”Ÿæˆè¿ç»­çš„æ•´æ•°å¸¸é‡ï¼š

```go
package main

import "fmt"

const (
    a = iota  // 0
    b         // 1
    c         // 2
)

const (
    _ = iota      // å¿½ç•¥ç¬¬ä¸€ä¸ªå€¼ï¼ˆ0ï¼‰
    KB = 1 << (10 * iota)  // 1024 (2^10)
    MB                      // 1048576 (2^20)
    GB                      // 1073741824 (2^30)
)

func main() {
    fmt.Println(a, b, c)        // 0 1 2
    fmt.Println(KB, MB, GB)     // 1024 1048576 1073741824
}
```

#### iotaçš„ç‰¹ç‚¹

1. **è‡ªåŠ¨é€’å¢**ï¼šæ¯ä¸ªå¸¸é‡å£°æ˜è‡ªåŠ¨é€’å¢
2. **æ¯ä¸ªconstå—é‡ç½®**ï¼šæ–°çš„`const`å—ä¸­`iota`ä»0å¼€å§‹
3. **å¯ä»¥è·³è¿‡å€¼**ï¼šä½¿ç”¨`_`å¿½ç•¥æŸäº›å€¼
4. **å¯ä»¥ç”¨äºè¡¨è¾¾å¼**ï¼šå¦‚ä½è¿ç®—ã€è®¡ç®—ç­‰

### 3.3 iotaçš„é«˜çº§ç”¨æ³•

```go
package main

import "fmt"

// ä½æ©ç 
const (
    Read   = 1 << iota  // 1 (001)
    Write                // 2 (010)
    Execute              // 4 (100)
)

// è‡ªå®šä¹‰è¡¨è¾¾å¼
const (
    _  = iota
    KB = 1 << (10 * iota)  // 1024
    MB                      // 1048576
    GB                      // 1073741824
)

// å¤šä¸ªiota
const (
    a, b = iota, iota + 1  // a=0, b=1
    c, d                    // c=1, d=2
    e, f                    // e=2, f=3
)

func main() {
    fmt.Println(Read, Write, Execute)  // 1 2 4
    fmt.Println(KB, MB, GB)            // 1024 1048576 1073741824
    fmt.Println(a, b, c, d, e, f)      // 0 1 1 2 2 3
}
```

---

## å››ã€æšä¸¾ï¼ˆEnumsï¼‰

Goè¯­è¨€æ²¡æœ‰`enum`å…³é”®å­—ï¼Œä½†å¯ä»¥é€šè¿‡**å¸¸é‡ç»„**å’Œ**è‡ªå®šä¹‰ç±»å‹**æ¥å®ç°æšä¸¾åŠŸèƒ½ã€‚

### 4.1 åŸºç¡€æšä¸¾ï¼šä½¿ç”¨å¸¸é‡ç»„

æœ€ç®€å•çš„æšä¸¾æ–¹å¼ï¼Œä½¿ç”¨å¸¸é‡ç»„å®šä¹‰ä¸€ç»„ç›¸å…³å¸¸é‡ï¼š

```go
package main

import "fmt"

// HTTPçŠ¶æ€ç æšä¸¾
const (
    StatusOK       = 200
    StatusNotFound = 404
    StatusError    = 500
)

func main() {
    code := StatusOK
    fmt.Println(code)  // 200
}
```

### 4.2 ä½¿ç”¨iotaå®ç°æšä¸¾

`iota`å¯ä»¥è‡ªåŠ¨ç”Ÿæˆé€’å¢çš„æšä¸¾å€¼ï¼š

```go
package main

import "fmt"

// æ˜ŸæœŸæšä¸¾
const (
    Sunday = iota  // 0
    Monday          // 1
    Tuesday         // 2
    Wednesday       // 3
    Thursday        // 4
    Friday          // 5
    Saturday        // 6
)

func main() {
    day := Monday
    fmt.Println(day)  // 1
}
```

### 4.3 è‡ªå®šä¹‰ç±»å‹æšä¸¾ï¼ˆæ¨èï¼‰

ä½¿ç”¨è‡ªå®šä¹‰ç±»å‹å¯ä»¥å¢å¼ºç±»å‹å®‰å…¨æ€§ï¼Œé¿å…ä¸åŒæšä¸¾ä¹‹é—´çš„æ··æ·†ï¼š

```go
package main

import "fmt"

// å®šä¹‰æšä¸¾ç±»å‹
type Status int

// å®šä¹‰æšä¸¾å€¼
const (
    StatusPending Status = iota  // 0
    StatusRunning                // 1
    StatusSuccess                // 2
    StatusFailed                 // 3
)

// ä¸ºæšä¸¾ç±»å‹æ·»åŠ æ–¹æ³•
func (s Status) String() string {
    switch s {
    case StatusPending:
        return "Pending"
    case StatusRunning:
        return "Running"
    case StatusSuccess:
        return "Success"
    case StatusFailed:
        return "Failed"
    default:
        return "Unknown"
    }
}

func main() {
    var status Status = StatusRunning
    fmt.Println(status)        // Runningï¼ˆè°ƒç”¨Stringæ–¹æ³•ï¼‰
    fmt.Println(int(status))   // 1ï¼ˆè·å–æ•´æ•°å€¼ï¼‰
}
```

### 4.4 å­—ç¬¦ä¸²æšä¸¾

å¯¹äºéœ€è¦å­—ç¬¦ä¸²å€¼çš„æšä¸¾ï¼Œå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²å¸¸é‡ï¼š

```go
package main

import "fmt"

type Color string

const (
    ColorRed    Color = "red"
    ColorGreen  Color = "green"
    ColorBlue   Color = "blue"
)

func main() {
    color := ColorRed
    fmt.Println(color)  // red
}
```

### 4.5 æšä¸¾çš„é«˜çº§ç”¨æ³•

#### 1. è·³è¿‡æŸäº›å€¼

```go
const (
    _ = iota      // è·³è¿‡0
    Red           // 1
    Green         // 2
    _             // è·³è¿‡3
    Blue          // 4
)
```

#### 2. ä½æ©ç æšä¸¾

ä½¿ç”¨`iota`å’Œä½è¿ç®—å®ç°æ ‡å¿—ä½æšä¸¾ï¼š

```go
package main

import "fmt"

type Permission int

const (
    Read   Permission = 1 << iota  // 1 (001)
    Write                           // 2 (010)
    Execute                         // 4 (100)
)

func main() {
    // ç»„åˆæƒé™
    rw := Read | Write  // 3 (011)
    fmt.Println(rw)     // 3
    
    // æ£€æŸ¥æƒé™
    if rw&Read != 0 {
        fmt.Println("æœ‰è¯»æƒé™")
    }
}
```

#### 3. æšä¸¾éªŒè¯

ä¸ºæšä¸¾æ·»åŠ éªŒè¯æ–¹æ³•ï¼Œç¡®ä¿å€¼çš„æœ‰æ•ˆæ€§ï¼š

```go
package main

import "fmt"

type Direction int

const (
    North Direction = iota
    East
    South
    West
)

// éªŒè¯æšä¸¾å€¼æ˜¯å¦æœ‰æ•ˆ
func (d Direction) IsValid() bool {
    return d >= North && d <= West
}

// è·å–æ‰€æœ‰æšä¸¾å€¼
func AllDirections() []Direction {
    return []Direction{North, East, South, West}
}

func main() {
    dir := Direction(5)
    if !dir.IsValid() {
        fmt.Println("æ— æ•ˆçš„æ–¹å‘")
    }
}
```

### 4.6 æšä¸¾çš„æœ€ä½³å®è·µ

1. **ä½¿ç”¨è‡ªå®šä¹‰ç±»å‹**ï¼šæé«˜ç±»å‹å®‰å…¨æ€§ï¼Œé¿å…ä¸åŒæšä¸¾æ··æ·†
2. **å®ç°Stringæ–¹æ³•**ï¼šæ–¹ä¾¿è°ƒè¯•å’Œæ—¥å¿—è¾“å‡º
3. **ä»0å¼€å§‹**ï¼šä½¿ç”¨`iota`æ—¶ï¼Œé€šå¸¸ä»0å¼€å§‹ï¼Œé™¤éæœ‰ç‰¹æ®Šéœ€æ±‚
4. **æ·»åŠ éªŒè¯æ–¹æ³•**ï¼šç¡®ä¿æšä¸¾å€¼çš„æœ‰æ•ˆæ€§
5. **ä½¿ç”¨æœ‰æ„ä¹‰çš„å‘½å**ï¼šæšä¸¾åå’Œå€¼åéƒ½è¦æ¸…æ™°è¡¨è¾¾å«ä¹‰

```go
// âœ… å¥½çš„å®è·µ
type OrderStatus int

const (
    OrderStatusPending OrderStatus = iota
    OrderStatusPaid
    OrderStatusShipped
    OrderStatusDelivered
    OrderStatusCancelled
)

func (s OrderStatus) String() string {
    // å®ç°Stringæ–¹æ³•
    switch s {
    case OrderStatusPending:
        return "Pending"
    case OrderStatusPaid:
        return "Paid"
    // ...
    default:
        return "Unknown"
    }
}

// âŒ ä¸å¥½çš„å®è·µï¼šç›´æ¥ä½¿ç”¨intï¼Œå®¹æ˜“æ··æ·†
const (
    Status1 = 0
    Status2 = 1
    Status3 = 2
)
```

---

## äº”ã€ç»¼åˆç¤ºä¾‹

```go
package main

import "fmt"

// åŒ…çº§å˜é‡å’Œå¸¸é‡
var (
    PackageVar = "åŒ…çº§å˜é‡"
)

const (
    PackageConst = "åŒ…çº§å¸¸é‡"
    Pi           = 3.14159
)

// æšä¸¾ç±»å‹
type Weekday int

const (
    Sunday Weekday = iota
    Monday
    Tuesday
    Wednesday
    Thursday
    Friday
    Saturday
)

func (w Weekday) String() string {
    days := []string{"Sunday", "Monday", "Tuesday", "Wednesday", 
                     "Thursday", "Friday", "Saturday"}
    if int(w) < len(days) {
        return days[w]
    }
    return "Unknown"
}

func main() {
    // 1. å˜é‡å£°æ˜
    var name string = "Go"
    age := 10
    fmt.Println(name, age)
    
    // 2. å¸¸é‡ä½¿ç”¨
    fmt.Println(Pi, PackageConst)
    
    // 3. æšä¸¾ä½¿ç”¨
    today := Monday
    fmt.Printf("ä»Šå¤©æ˜¯: %s\n", today)
    
    // 4. å¤šå˜é‡å£°æ˜
    x, y := 1, 2
    x, y = y, x  // äº¤æ¢
    fmt.Println(x, y)  // 2 1
}
```

---

## æ€»ç»“

### åŸºç¡€è¯­æ³•è¦ç‚¹

1. **ç¨‹åºç»“æ„**ï¼š
   - `package`å£°æ˜åŒ…å
   - `import`å¯¼å…¥ä¾èµ–
   - `func main()`ç¨‹åºå…¥å£

2. **å˜é‡å£°æ˜**ï¼š
   - `var`å£°æ˜ï¼šæ˜¾å¼ç±»å‹æˆ–ç±»å‹æ¨æ–­
   - çŸ­å˜é‡å£°æ˜ï¼š`:=`ï¼ˆä»…å‡½æ•°å†…ï¼‰
   - é›¶å€¼ï¼šæœªåˆå§‹åŒ–å˜é‡çš„é»˜è®¤å€¼

3. **å¸¸é‡**ï¼š
   - `const`å£°æ˜å¸¸é‡
   - `iota`è‡ªåŠ¨ç”Ÿæˆé€’å¢å¸¸é‡
   - ç¼–è¯‘æœŸç¡®å®šï¼Œä¸å¯ä¿®æ”¹

4. **æšä¸¾**ï¼š
   - ä½¿ç”¨å¸¸é‡ç»„å’Œè‡ªå®šä¹‰ç±»å‹
   - `iota`è‡ªåŠ¨ç”Ÿæˆæšä¸¾å€¼
   - å®ç°`String`æ–¹æ³•å¢å¼ºå¯è¯»æ€§

### æœ€ä½³å®è·µ

1. **å˜é‡å‘½å**ï¼šä½¿ç”¨é©¼å³°å‘½åï¼Œé¦–å­—æ¯å¤§å°å†™æ§åˆ¶å¯è§æ€§
2. **å¸¸é‡å‘½å**ï¼šå…¨å¤§å†™æˆ–ä½¿ç”¨æšä¸¾ç±»å‹
3. **ä½œç”¨åŸŸ**ï¼šæœ€å°åŒ–å˜é‡ä½œç”¨åŸŸ
4. **ç±»å‹å®‰å…¨**ï¼šä½¿ç”¨è‡ªå®šä¹‰ç±»å‹å®ç°æšä¸¾

æŒæ¡è¿™äº›åŸºç¡€æ¦‚å¿µæ˜¯å­¦ä¹ Goè¯­è¨€çš„ç¬¬ä¸€æ­¥ã€‚åœ¨ä¸‹ä¸€è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥å­¦ä¹ æ•°æ®ç±»å‹å’Œç±»å‹è½¬æ¢ã€‚