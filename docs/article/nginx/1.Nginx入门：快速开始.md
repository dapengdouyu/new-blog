---
title: Nginx入门：快速开始
date: 2026-01-12
description: 了解Nginx的基本概念，学习安装和基本操作，开始你的Nginx之旅
---

# Nginx入门：快速开始

## 一、什么是Nginx

Nginx（发音为"engine x"）是一个高性能的Web服务器和反向代理服务器。它由俄罗斯的Igor Sysoev开发，最初是为了解决C10K问题（即如何让服务器同时处理1万个并发连接）而设计的。

### 1.1 Nginx的主要特点

- **高性能**：采用事件驱动的异步非阻塞架构，能够处理大量并发连接
- **低内存占用**：相比Apache，Nginx的内存占用更少
- **高稳定性**：能够长时间稳定运行，适合生产环境
- **模块化设计**：支持丰富的功能模块
- **配置简单**：配置文件语法清晰，易于理解和维护

### 1.2 Nginx的主要用途

1. **Web服务器**：直接提供静态文件服务
2. **反向代理**：将请求转发到后端服务器
3. **负载均衡**：在多个后端服务器之间分配请求
4. **SSL终端**：处理HTTPS连接
5. **缓存服务器**：缓存静态内容和动态内容

### 1.3 Nginx vs Apache

| 特性 | Nginx | Apache |
|------|-------|--------|
| 并发模型 | 事件驱动 | 进程/线程模型 |
| 内存占用 | 低 | 较高 |
| 静态文件 | 性能优秀 | 性能良好 |
| 动态内容 | 需要代理 | 原生支持 |
| 配置复杂度 | 简单 | 较复杂 |
| 适用场景 | 高并发、反向代理 | 传统Web应用 |

## 二、安装Nginx

### 2.1 Linux系统安装

#### Ubuntu/Debian

```bash
# 更新包列表
sudo apt update

# 安装Nginx
sudo apt install nginx

# 检查安装版本
nginx -v
```

#### CentOS/RHEL

```bash
# 安装EPEL仓库（CentOS 7）
sudo yum install epel-release

# 安装Nginx
sudo yum install nginx

# 或者使用dnf（CentOS 8+）
sudo dnf install nginx

# 检查安装版本
nginx -v
```

#### 从源码编译安装

```bash
# 下载Nginx源码
wget http://nginx.org/download/nginx-1.24.0.tar.gz
tar -xzf nginx-1.24.0.tar.gz
cd nginx-1.24.0

# 配置编译选项
./configure --prefix=/usr/local/nginx

# 编译和安装
make
sudo make install
```

### 2.2 macOS安装

#### 使用Homebrew

```bash
# 安装Homebrew（如果还没有）
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# 安装Nginx
brew install nginx

# 检查安装版本
nginx -v
```

#### 启动Nginx（macOS）

```bash
# 启动Nginx
brew services start nginx

# 或者手动启动
sudo nginx

# 停止Nginx
brew services stop nginx
# 或
sudo nginx -s stop
```

### 2.3 Windows安装

1. **下载Nginx**
   - 访问 [Nginx官网](http://nginx.org/en/download.html)
   - 下载Windows版本（如 `nginx-1.24.0.zip`）

2. **解压文件**
   - 解压到任意目录，如 `C:\nginx`

3. **运行Nginx**
   ```cmd
   # 进入Nginx目录
   cd C:\nginx

   # 启动Nginx
   start nginx

   # 停止Nginx
   nginx -s stop

   # 重新加载配置
   nginx -s reload
   ```

## 三、Nginx基本操作

### 3.1 启动Nginx

#### Linux系统

```bash
# 使用systemd启动（推荐）
sudo systemctl start nginx

# 设置开机自启
sudo systemctl enable nginx

# 检查状态
sudo systemctl status nginx
```

#### 手动启动

```bash
# 直接启动
sudo nginx

# 指定配置文件启动
sudo nginx -c /etc/nginx/nginx.conf
```

### 3.2 停止Nginx

```bash
# 使用systemd停止
sudo systemctl stop nginx

# 优雅停止（等待当前请求完成）
sudo nginx -s quit

# 快速停止
sudo nginx -s stop
```

### 3.3 重启和重载配置

```bash
# 重启Nginx（会中断服务）
sudo systemctl restart nginx
# 或
sudo nginx -s reload  # 重新加载配置（不中断服务）

# 重新加载配置文件（推荐，不中断服务）
sudo nginx -s reload
```

### 3.4 测试配置文件

```bash
# 测试配置文件语法
sudo nginx -t

# 测试并显示配置文件路径
sudo nginx -T
```

**输出示例**：
```
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
```

### 3.5 查看Nginx进程

```bash
# 查看Nginx进程
ps aux | grep nginx

# 查看Nginx端口监听
sudo netstat -tlnp | grep nginx
# 或使用ss命令
sudo ss -tlnp | grep nginx
```

## 四、验证安装

### 4.1 检查Nginx版本

```bash
# 查看版本信息
nginx -v

# 查看详细版本和编译信息
nginx -V
```

### 4.2 访问默认页面

1. **打开浏览器**
   - 访问 `http://localhost` 或 `http://127.0.0.1`
   - 如果Nginx在远程服务器上，访问 `http://服务器IP地址`

2. **查看默认页面**
   - 如果看到"Welcome to nginx!"页面，说明安装成功

### 4.3 检查端口监听

```bash
# 检查80端口是否被监听
sudo netstat -tlnp | grep :80
# 或
sudo ss -tlnp | grep :80
```

**预期输出**：
```
tcp  0  0  0.0.0.0:80  0.0.0.0:*  LISTEN  1234/nginx: master
```

## 五、Nginx目录结构

### 5.1 Linux系统目录结构

```
/etc/nginx/              # 配置文件目录
├── nginx.conf           # 主配置文件
├── conf.d/              # 额外配置文件目录
├── sites-available/     # 可用站点配置
├── sites-enabled/       # 启用的站点配置（符号链接）
└── modules-available/   # 可用模块

/var/log/nginx/          # 日志目录
├── access.log           # 访问日志
└── error.log            # 错误日志

/usr/share/nginx/html/   # 默认网站根目录
/var/www/html/           # 另一个常见的网站根目录

/usr/sbin/nginx          # Nginx可执行文件
```

### 5.2 macOS系统目录结构

```
/usr/local/etc/nginx/    # 配置文件目录
├── nginx.conf           # 主配置文件
└── servers/             # 服务器配置目录

/usr/local/var/log/nginx/ # 日志目录
/usr/local/var/www/       # 默认网站根目录

/usr/local/bin/nginx     # Nginx可执行文件
```

## 六、常见问题解决

### 6.1 端口被占用

**问题**：启动Nginx时提示端口80已被占用

**解决方法**：

```bash
# 查看占用80端口的进程
sudo lsof -i :80
# 或
sudo netstat -tlnp | grep :80

# 停止占用端口的服务（根据实际情况）
sudo systemctl stop apache2  # 如果是Apache
# 或修改Nginx配置使用其他端口
```

### 6.2 权限问题

**问题**：提示权限不足

**解决方法**：

```bash
# 使用sudo运行命令
sudo nginx

# 或者将用户添加到www-data组（Linux）
sudo usermod -aG www-data $USER
```

### 6.3 配置文件语法错误

**问题**：`nginx -t` 提示配置文件语法错误

**解决方法**：

```bash
# 测试配置文件
sudo nginx -t

# 查看错误信息，根据提示修改配置文件
# 常见错误：
# - 缺少分号
# - 括号不匹配
# - 指令拼写错误
```

### 6.4 无法访问网站

**问题**：浏览器无法访问Nginx默认页面

**检查步骤**：

1. **检查Nginx是否运行**
   ```bash
   sudo systemctl status nginx
   ```

2. **检查防火墙设置**
   ```bash
   # Ubuntu/Debian
   sudo ufw allow 80/tcp
   
   # CentOS/RHEL
   sudo firewall-cmd --permanent --add-service=http
   sudo firewall-cmd --reload
   ```

3. **检查SELinux设置**（CentOS/RHEL）
   ```bash
   sudo setsebool -P httpd_can_network_connect 1
   ```

## 七、下一步学习

完成本课后，你应该能够：

- ✅ 理解Nginx的基本概念和用途
- ✅ 在Linux、macOS、Windows上安装Nginx
- ✅ 启动、停止、重启Nginx
- ✅ 测试配置文件
- ✅ 访问默认页面验证安装

接下来可以学习：

1. **第2课：配置文件详解** - 深入了解Nginx配置文件的结构和指令
2. **第3课：虚拟主机配置** - 学习如何配置多个网站

## 八、总结

- Nginx是一个高性能的Web服务器和反向代理服务器
- 支持多种安装方式（包管理器、源码编译）
- 基本操作包括启动、停止、重启、重载配置
- 使用 `nginx -t` 测试配置文件
- 默认监听80端口，提供Web服务

掌握Nginx的基本操作后，你就可以继续深入学习配置文件了！
